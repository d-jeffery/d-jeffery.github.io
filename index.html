<style> * {cursor: pointer;-webkit-tap-highlight-color: transparent;}</style><body><script>
let aa=0;const da=Math.PI,e=t=>t<0?-t:t,fa=(t,e)=>t<e?t:e,ha=(t,e)=>e<t?t:e,g=(t,e=0,i=1)=>t<e?e:i<t?i:t,ia=(t,e=0,i=1)=>i-e?g((t-e)/(i-e)):0,ja=(t,e=0,i=1)=>e+g(t)*(i-e),ka=(t,i,s,a)=>2*e(t.x-s.x)<i.x+a.x&2*e(t.y-s.y)<i.y+a.y,l=(t=1,e=0)=>e+(t-e)*Math.random(),ma=(t=1)=>0<t?la(t*l(0/t,1)**.5):new p,la=(t=1)=>na(l(2*da),t),oa=(e=new t,i=new t(0,0,0,1),s)=>s?e.$(i,l()):new t(l(e.r,i.r),l(e.m,i.m),l(e.b,i.b),l(e.a,i.a)),u=(t=0,e)=>null==t.x?new p(t,null==e?t:e):new p(t.x,t.y);function na(t=0,e=1){var i=new p;return i.x=e*Math.sin(t),i.y=e*Math.cos(t),i}function ra(t,e){return(t.x-e.x)**2+(t.y-e.y)**2}function sa(t){var e=t.length();return 1<e?t.scale(1/e):t}function ta(t,e){return 0<=t.x&&0<=t.y&&t.x<e.x&&t.y<e.y}class p{constructor(t=0,e=0){this.x=t,this.y=e}S(){return new p(this.x,this.y)}add(t){return new p(this.x+t.x,this.y+t.y)}o(t){return new p(this.x-t.x,this.y-t.y)}multiply(t){return new p(this.x*t.x,this.y*t.y)}ea(t){return new p(this.x/t.x,this.y/t.y)}scale(t){return new p(this.x*t,this.y*t)}length(){return(this.x**2+this.y**2)**.5}normalize(t=1){var e=this.length();return e?this.scale(t/e):new p(0,t)}angle(){return Math.atan2(this.x,this.y)}rotate(t){var e=Math.cos(t);return t=Math.sin(t),new p(this.x*e-this.y*t,this.x*t+this.y*e)}direction(){return e(this.x)>e(this.y)?this.x<0?3:1:this.y<0?2:0}floor(){return new p(Math.floor(this.x),Math.floor(this.y))}$(t,e){return this.add(t.o(this).scale(g(e)))}toString(t=3){return`(${(this.x<0?"":" ")+this.x.toFixed(t)},${(this.y<0?"":" ")+this.y.toFixed(t)} )`}}function ua(t){return(255*t.r|0)+(255*t.m<<8)+(255*t.b<<16)+(255*t.a<<24)}class t{constructor(t=1,e=1,i=1,s=1){this.r=t,this.m=e,this.b=i,this.a=s}S(){return new t(this.r,this.m,this.b,this.a)}add(e){return new t(this.r+e.r,this.m+e.m,this.b+e.b,this.a+e.a)}o(e){return new t(this.r-e.r,this.m-e.m,this.b-e.b,this.a-e.a)}multiply(e){return new t(this.r*e.r,this.m*e.m,this.b*e.b,this.a*e.a)}ea(e){return new t(this.r/e.r,this.m/e.m,this.b/e.b,this.a/e.a)}scale(e,i=e){return new t(this.r*e,this.m*e,this.b*e,this.a*i)}$(t,e){return this.add(t.o(this).scale(g(e)))}toString(){return`rgb(${255*this.r|0},${255*this.m|0},${255*this.b|0},${this.a})`}}class va{constructor(){this.setTime=this.time=void 0}set(t=0){this.time=wa+t,this.setTime=t}active(){return wa<=this.time}get(){return null!=this.time?wa-this.time:0}toString(){}}let ya=u(1920,1200),za=u(),x=u(16),Aa=u(1),y=u(),z=ha(x.x,x.y);const Ba=1/60;let A=[],Ca=[],Da=0,wa=0,C=0,Ga=0,Ha=0,D=0,Ia,Ja,Ka,La;function Ma(){Na=u(E.width,E.height),F.imageSmoothingEnabled=!1;var t=E.width,e=E.height,i=y.x,s=y.y,a=z;G.viewport(0,0,H.width=t,H.height=e),G.clear(16384),G.bindTexture(3553,Oa),G.useProgram(Pa),Qa=void 0,t=2*a/t,e=2*a/e,G.uniformMatrix4fv(G.getUniformLocation(Pa,"m"),0,new Float32Array([t,0,0,0,0,e,0,0,1,1,-1,1,-1-t*i,-1-e*s,0,0]))}function Ra(){Ca=A.filter(t=>t.ca);const i=t=>{if(!t.v){t.update();for(const e of t.children)i(e)}};for(const t of A)t.parent||i(t);A=A.filter(t=>!t.v),wa=++Da/60}function I(t){if(!t.v){t.v=1,t.parent&&t.parent.removeChild(t);for(const e of t.children)I(e,e.parent=0)}}function Sa(t,e){e=e.scale(1/t.i),t.i&&(t.h=t.h.add(e))}function Ta(t,e,i=u(),s=0){e.parent||t.children.includes(e),t.children.push(e),e.parent=t,e.ya=i.S(),e.xa=s}function Wa(t,e=0){t.ca=1,t.ja=e,t.J=1}class J{constructor(t=u(),e=Aa,i=-1,s=x,a=0,h,n=0){this.g=t.S(),this.size=e,this.ua,this.L=i,this.s=s,this.angle=a,this.color=h,this.oa,this.i=1,this.N=this.B=.99,this.u=0,this.T=.8,this.F=1,this.A=n,this.h=new p,this.W=0,this.na=wa,this.children=[],this.J=1,A.push(this)}update(){var t=this.parent;if(t)this.g=this.ya.multiply(u(t.C?-1:1,1)).rotate(-t.angle).add(t.g),this.angle=(t.C?-1:1)*this.xa+t.angle;else if(this.h.x=g(this.h.x,-1,1),this.h.y=g(this.h.y,-1,1),t=this.g.S(),this.g.x+=this.h.x*=this.B,this.g.y+=this.h.y=this.B*this.h.y+0*this.F,this.angle+=this.W*=this.N,this.i){var i,s,a,h,n,r,o,c=this.h.y<0;if(this.G&&(i=this.G.h?this.G.h.x:0,this.h.x=i+(this.h.x-i)*this.T,this.G=0),this.ca)for(var l of Ca)!this.ja&!l.ja||l.v||l.parent||l==this||!ka(this.g,this.size,l.g,l.size)||!this.D(l)|!l.D(this)||(ka(t,this.size,l.g,l.size)?(i=(s=(i=t.o(l.g)).length())<.01?la(.001):i.scale(.001/s),this.h=this.h.add(i),l.i&&(l.h=l.h.o(i))):(i=this.size.add(l.size),s=2*(t.y-l.g.y)>i.y+0,a=2*e(t.y-l.g.y)<i.y,h=2*e(t.x-l.g.x)<i.x,!s&&!h&&a||(this.g.y=l.g.y+(i.y/2+.001)*(t.y-l.g.y<0?-1:1),l.G&&c||!l.i?(c&&(this.G=l),this.h.y*=-this.u):l.i&&(n=(this.i*this.h.y+l.i*l.h.y)/(this.i+l.i),r=l.h.y*(l.i-this.i)/(this.i+l.i)+2*this.h.y*this.i/(this.i+l.i),o=ha(this.u,l.u),this.h.y=ja(o,n,this.h.y*(this.i-l.i)/(this.i+l.i)+2*l.h.y*l.i/(this.i+l.i)),l.h.y=ja(o,n,r))),s||!a&&h||(this.g.x=l.g.x+(i.x/2+.001)*(t.x-l.g.x<0?-1:1),l.i?(i=(this.i*this.h.x+l.i*l.h.x)/(this.i+l.i),s=l.h.x*(l.i-this.i)/(this.i+l.i)+2*this.h.x*this.i/(this.i+l.i),a=ha(this.u,l.u),this.h.x=ja(a,i,this.h.x*(this.i-l.i)/(this.i+l.i)+2*l.h.x*l.i/(this.i+l.i)),l.h.x=ja(a,i,s)):this.h.x*=-this.u)));this.J&&Xa(this.g,this.size,this)&&!Xa(t,this.size,this)&&(l=Xa(new p(this.g.x,t.y),this.size,this),!Xa(new p(t.x,this.g.y),this.size,this)&&l||(this.G=c,this.h.y*=-this.u,(c=(t.y-this.size.y/2|0)-(t.y-this.size.y/2))<0&&c>this.B*this.h.y+0*this.F&&(this.h.y=this.B?(c-0*this.F)/this.B:0),this.g.y=t.y),l&&(this.g.x=t.x,this.h.x*=-this.u))}}I(){K(this.g,this.ua||this.size,this.L,this.s,this.color,this.angle,this.C,this.oa)}D(){return 1}removeChild(t){t.parent==this&&this.children.includes(t),this.children.splice(this.children.indexOf(t),1),t.parent=0}toString(){}}const M=new Image;let E,F,Ya,N,Na=u();const Za=t=>t.o(y).multiply(u(z,-z)).add(Na.scale(.5)).o(u(.5));function K(e,i=u(1),h=-1,n=x,r=new t,s=0,a,o=new t(0,0,0,0),c=1){var l,b,y;aa&&++La,c?h<0||!M.width?$a(e.x,e.y,i.x,i.y,s,0,0,0,0,0,ua(r)):(y=Ia.x/n.x|0,c=n.x/Ia.x,l=n.y/Ia.y,b=h%y*c,y=(h/y|0)*l,$a(e.x,e.y,a?-i.x:i.x,i.y,s,b+Ja.x,y+Ja.y,b-Ja.x+c,y-Ja.y+l,ua(r),ua(o))):ab(e,i,s,a,t=>{var e,i,s,a;h<0?(t.fillStyle=r,t.fillRect(-.5,-.5,1,1)):(i=Ia.x/n.x|0,e=h%i*n.x+.3,i=(h/i|0)*n.y+.3,s=n.x-.6,a=n.y-.6,t.globalAlpha=r.a,t.drawImage(M,e,i,s,a,-.5,-.5,1,1))})}function O(t,e,i,s,a){K(t,e,-1,x,i,s,0,0,a)}function bb(t,e,i=.1,s){e=u((e.x-t.x)/2,(e.y-t.y)/2),i=u(i,2*e.length()),O(t.add(e),i,s,e.angle(),0)}function ab(t,e,i,s,a){var h=F;t=Za(t),e=e.scale(z),h.save(),h.translate(t.x+.5|0,t.y-.5|0),h.rotate(i),h.scale(s?-e.x:e.x,e.y),a(h),h.restore()}let cb;function db(r,t,o,c=4){const l=r.context,b=(l.save(),l.imageSmoothingEnabled=!1,r.s),y=b.add(r.za).scale(c),g=r.image.width/r.s.x|0;t.split("\n").forEach((e,i)=>{var s=e.length*b.x*c/2|0;for(let t=e.length;t--;){((a=e[t].charCodeAt())<32||127<a)&&(a=127);var a=(h=r.Ga+a-32)%g,h=h/g|0,n=o.add(u(t,i).multiply(y));l.drawImage(r.image,a*b.x,h*b.y,b.x,b.y,n.x-s,n.y,b.x*c,b.y*c)}}),l.restore()}function Q(t,e,i,s=1){db(t,e,Za(i).floor(),s*z|0)}class eb{constructor(t,e=u(8),i=u(0,1),s=0,a=N){t||cb||((cb=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAYAQAAAAA9+x6JAAAAAnRSTlMAAHaTzTgAAAGiSURBVHjaZZABhxxBEIUf6ECLBdFY+Q0PMNgf0yCgsSAGZcT9sgIPtBWwIA5wgAPEoHUyJeeSlW+gjK+fegWwtROWpVQEyWh2npdpBmTUFVhb29RINgLIukoXr5LIAvYQ5ve+1FqWEMqNKTX3FAJHyQDRZvmKWubAACcv5z5Gtg2oyCWE+Yk/8JZQX1jTTCpKAFGIgza+dJCNBF2UskRlsgwitHbSV0QLgt9sTPtsRlvJjEr8C/FARWA2bJ/TtJ7lko34dNDn6usJUMzuErP89UUBJbWeozrwLLncXczd508deAjLWipLO4Q5XGPcJvPu92cNDaN0P5G1FL0nSOzddZOrJ6rNhbXGmeDvO3TF7DeJWl4bvaYQTNHCTeuqKZmbjHaSOFes+IX/+IhHrnAkXOAsfn24EM68XieIECoccD4KZLk/odiwzeo2rovYdhvb2HYFgyznJyDpYJdYOmfXgVdJTaUi4xA2uWYNYec9BLeqdl9EsoTw582mSFDX2DxVLbNt9U3YYoeatBad1c2Tj8t2akrjaIGJNywKB/7h75/gN3vCMSaadIUTAAAAAElFTkSuQmCC"),this.image=t||cb,this.s=e,this.za=i,this.Ga=s,this.context=a}}const S=(t,e=0)=>R[e]&&1&R[e][t]?1:0;let fb=u(),gb=u();const hb=(t,e=0)=>S(t,e+1);let R=[[]];function ib(){document.hasFocus()||(R=[[]]),fb=gb.add(u(.5)).o(Na.scale(.5)).multiply(u(1/z,-1/z)).add(y),jb()}function nb(){for(const t of R)for(const e in t)t[e]&=1}onkeydown=t=>{t.repeat||(R[0][ob(t.keyCode)]=3)},onkeyup=t=>{R[0][ob(t.keyCode)]=4};const ob=t=>87==t?38:83==t?40:65==t?37:68==t?39:t,pb=(onmousedown=t=>{R[0][t.button]=3,onmousemove(t),t.button&&t.preventDefault()},onmouseup=t=>R[0][t.button]=2&R[0][t.button]|4,onmousemove=t=>{var e;return t=E?(e=E.getBoundingClientRect(),u(E.width,E.height).multiply(u(ia(t.x,e.left,e.right),ia(t.y,e.top,e.bottom)))):u(),gb=t},onwheel=t=>t.ctrlKey||(t.deltaY<0?-1:1),oncontextmenu=()=>!1,[]);function jb(){if(navigator.getGamepads&&document.hasFocus()){var e=navigator.getGamepads();for(let t=e.length;t--;){var i=e[t];const a=R[t+1]||(R[t+1]=[]),h=pb[t]||(pb[t]=[]);if(i){var s=t=>.3<t?ia(t,.3,.8):t<-.3?-ia(-t,.3,.8):0;for(let t=0;t<i.axes.length-1;t+=2)h[t>>1]=sa(u(s(i.axes[t]),s(-i.axes[t+1])));for(s=i.buttons.length;s--;)a[s]=i.buttons[s].pressed?1+2*!hb(s,t):4*hb(s,t);(i=u(hb(15,t)-hb(14,t),hb(12,t)-hb(13,t))).x**2+i.y**2&&(h[0]=sa(i))}}}}if(void 0!==window.ontouchstart){let i,s;ontouchstart=ontouchmove=ontouchend=t=>{t.button=0;var e=t.touches.length;return e?(s||qb([rb(...[0,s=1])]),t.x=t.touches[0].clientX,t.y=t.touches[0].clientY,(i?onmousemove:onmousedown)(t)):i&&onmouseup(t),i=e,!t.cancelable}}let sb;function qb(t){var i,e;(sb=sb||new(window.AudioContext||webkitAudioContext)).resume(),"running"==sb.state&&(i=sb.createBuffer(t.length,t[0].length,44100),e=sb.createBufferSource(),t.forEach((t,e)=>i.getChannelData(e).set(t)),e.buffer=i,e.playbackRate.value=1,e.loop=0,(t=sb.createGain()).gain.value=.5,t.connect(sb.destination),(window.StereoPannerNode?e.connect(new StereoPannerNode(sb,{pan:g(0,-1,1)})):e).connect(t),e.start())}function rb(t=1,i=.05,s=220,a=0,h=0,n=.1,r=0,o=1,c=0,u=0,b=0,y=0,g=0,d=0,x=0,f=0,w=0,v=1,p=0,m=0){let z=2*da,A=c*=500*z/44100/44100,C=[],T=(i=s*=(1+i*l(-1,1))*z/44100,0),G=0,S=0,E=1,Y=0,M=0,B=0,I,W;for(u*=500*z/44100**3,x*=z/44100,b*=z/44100,y*=44100,g=44100*g|0,W=(a=44100*a+9)+(p*=44100)+(h*=44100)+(n*=44100)+(w*=44100)|0;S<W;C[S++]=B)++M%(100*f|0)||(B=r?1<r?2<r?3<r?Math.sin((T%z)**3):ha(fa(Math.tan(T),1),-1):1-(2*T/z%2+2)%2:1-4*e(Math.round(T/z)-T/z):Math.sin(T),B=(g?1-m+m*Math.sin(z*S/g):1)*(B<0?-1:1)*(B<0?-B:B)**o*t*.5*(S<a?S/a:S<a+p?1-(S-a)/p*(1-v):S<a+p+h?v:S<W-w?(W-S-w)/n*v:0),B=w?B/2+(w>S?0:(S<W-w?1:(W-S)/w)*C[S-w|0]/2):B),I=(s+=c+=u)*Math.cos(x*G++),T+=I-I*d*(1-1e9*(Math.sin(S)+1)%2),E&&++E>y&&(s+=b,i+=b,E=0),!g||++Y%g||(s=i,c=A,E=E||1);return C}let tb=[],ub=u();function Xa(t,e=u(),i){var s=ha(t.x-e.x/2|0,0),a=ha(t.y-e.y/2|0,0),h=fa(t.x+e.x/2,ub.x);for(t=fa(t.y+e.y/2,ub.y);a<t;++a)for(e=s;e<h;++e){var n=tb[a*ub.x+e];if(n&&(!i||0<n))return 1}}class vb{constructor(e){var i=new t;this.ba=e,this.C=this.direction=0,this.color=i}clear(){this.ba=this.direction=this.C=0,color=new t}}function wb(t,e){var i=e.floor().add(t.g).add(u(.5));xb(t,i,t=>t.clearRect(-.5,-.5,1,1)),null!=(e=t.getData(e)).ba&&K(i,u(1),e.ba,t.s,e.color,e.direction*da/2,e.C)}function xb(t,e,i){var s=u(1);const a=t.context;a.save(),e=e.o(t.g).multiply(t.s),s=s.multiply(t.s),a.translate(e.x,t.canvas.height-e.y),a.rotate(0),a.scale(s.x,s.y),i(a),a.restore()}class yb extends J{constructor(t=ub,i=x,s=u(1)){for(super(u(0,0),t,-1,i,0,void 0,0),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.scale=s,this.va,this.data=[],t=this.size,t=e(t.x*t.y);t--;)this.data.push(new vb)}setData(t,e,i){ta(t,this.size)&&(this.data[(0|t.y)*this.size.x+t.x|0]=e,i&&wb(this,t))}getData(t){return ta(t,this.size)&&this.data[(0|t.y)*this.size.x+t.x|0]}update(){}I(){var t=Za(this.g.add(u(0,this.size.y*this.scale.y)));(this.va?N:F).drawImage(this.canvas,t.x,t.y,z*this.size.x*this.scale.x,z*this.size.y*this.scale.y)}}function zb(t){var e=null!=t.Y.x?new p(l(-.5,.5),l(-.5,.5)).multiply(t.Y).rotate(t.angle):ma(.5*t.Y),e=new Ab(t.g.add(e),t.L,t.s,t.angle+l(t.la,-t.la));const i=t.Ca;var s=(r=t=>t+t*l(i,-i))(t.Ba),a=r(t.aa),h=r(t.Ea),n=r(t.speed),r=r(t.pa)*(2*(0|l(2))-1);const o=l(t.fa,-t.fa),c=oa(t.sa,t.ta,t.ma),u=oa(t.qa,t.ra,t.ma);e.R=c,e.P=u.o(c),e.h=na(t.angle+o,n),e.W=r,e.wa=s,e.aa=a,e.Fa=h-a,e.Z=t.Z,e.B=t.B,e.N=t.N,e.u=t.u,e.T=t.T,e.F=t.F,e.J=t.J,e.M=t.M,e.A=t.A,e.V=t.V,e.C=l()<.5,e.da=t.Ha,t.Aa&&t.Aa(e)}class Bb extends J{constructor(e,i,s=0,a=0,h=100,n=da,r=-1,o=x,c=new t,u=new t,l=new t(1,1,1,0),b=new t(1,1,1,0),y=.5,g=.1,d=1,f=.1,w=.05,v=1,m=1,z=0,A=da,C=.1,T=.2,G,S,E=1,Y=S?1e9:0){super(e,new p,r,o,i,void 0,Y),this.Y=s,this.ha=a,this.ga=h,this.fa=n,this.sa=c,this.ta=u,this.qa=l,this.ra=b,this.ma=E,this.Ba=y,this.aa=g,this.Ea=d,this.speed=f,this.pa=w,this.B=v,this.N=m,this.F=z,this.la=A,this.Z=C,this.Ca=T,this.J=G,this.M=S,this.K=this.V=0}update(){if(this.parent&&super.update(),!this.ha||wa-this.na<=this.ha){if(+this.ga){var t=1/this.ga;for(this.K+=Ba;0<this.K;this.K-=t)zb(this)}}else I(this)}I(){}}class Ab extends J{constructor(t,e,i,s){super(t,new p,e,i,s)}I(){var e=fa((wa-this.na)/this.wa,1),i=this.aa+e*this.Fa,i=new p(i,i),s=this.Z/2,s=new t(this.R.r+e*this.P.r,this.R.m+e*this.P.m,this.R.b+e*this.P.b,(this.R.a+e*this.P.a)*(e<s?e/s:1-s<e?(1-e)/s:1));if(this.M&&(Qa=1),this.V){var a=this.h.length();const h=this.h.scale(1/a);a*=this.V,i.y=ha(i.x,a),this.angle=h.angle(),K(this.g.add(h.multiply(u(0,-a/2))),i,this.L,this.s,s,this.angle,this.C)}else K(this.g,i,this.L,this.s,s,this.angle,this.C);this.M&&(Qa=void 0),1==e&&(this.color=s,this.size=i,this.da&&this.da(this),this.v=1)}}let Cb=[],Db;function Eb(){var t,e;Cb.length&&(t=Cb[0],e=C-Db,Db?5<e?Cb.shift(Db=0):t.I():Db=C)}let H,G,Oa,Pa,T,V,Fb,Gb,Qa;function Hb(){H=document.createElement("canvas"),G=H.getContext("webgl",{antialias:!1}),H.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",Oa=Ib(),document.body.appendChild(H),Pa=Jb();var t=new ArrayBuffer(9437184);Kb(t.byteLength),T=new Float32Array(t),V=new Uint32Array(t);let h=Fb=0;(t=(t,e,i,s,a=0)=>{t=G.getAttribLocation(Pa,t),G.enableVertexAttribArray(t),G.vertexAttribPointer(t,s,e,a,24,h),h+=s*i})("p",5126,4,2),t("t",5126,4,2),t("c",5121,1,4,1),t("a",5121,1,4,1)}function Lb(t,e){return e=G.createShader(e),G.shaderSource(e,t),G.compileShader(e),e}function Jb(){var t=G.createProgram();return G.attachShader(t,Lb("precision highp float;uniform mat4 m;attribute vec2 p,t;attribute vec4 c,a;varying vec2 v;varying vec4 d,e;void main(){gl_Position=m*vec4(p,1,1);v=t;d=c;e=a;}",35633)),G.attachShader(t,Lb("precision highp float;varying vec2 v;varying vec4 d,e;uniform sampler2D s;void main(){gl_FragColor=texture2D(s,v)*d+e;}",35632)),G.linkProgram(t),t}function Kb(t){var e=G.createBuffer();G.bindBuffer(34962,e),G.bufferData(34962,t,35048)}function Ib(){var t,e=M;if(e&&e.width)return t=G.createTexture(),G.bindTexture(3553,t),G.texImage2D(3553,0,6408,6408,5121,e),G.texParameteri(3553,10241,9728),G.texParameteri(3553,10240,9728),G.texParameteri(3553,10242,33071),G.texParameteri(3553,10243,33071),t}function Mb(){var t;Fb&&(t=Gb?1:771,G.blendFuncSeparate(770,t,1,t),G.enable(3042),G.bufferSubData(34962,0,T.subarray(0,36*Fb)),G.drawArrays(4,0,6*Fb),Fb=0,Gb=Qa)}function Nb(t){var e=F;(Fb||t)&&(Mb(),t&&e.drawImage(H,0,0))}function $a(t,e,i,s,a,h,n,r,o,c=4294967295,u=0){65536!=Fb&&Gb==Qa||Mb();var l=Math.cos(a)/2,b=Math.sin(a)/2;a=l*i,l*=s,i*=b,s*=b,b=36*Fb++,T[b++]=t-a-s,T[b++]=e-l+i,T[b++]=h,T[b++]=o,V[b++]=c,V[b++]=u,T[b++]=t+a+s,T[b++]=e+l-i,T[b++]=r,T[b++]=n,V[b++]=c,V[b++]=u,T[b++]=t-a+s,T[b++]=e+l+i,T[b++]=h,T[b++]=n,V[b++]=c,V[b++]=u,T[b++]=t-a-s,T[b++]=e-l+i,T[b++]=h,T[b++]=o,V[b++]=c,V[b++]=u,T[b++]=t+a-s,T[b++]=e-l-i,T[b++]=r,T[b++]=o,V[b++]=c,V[b++]=u,T[b++]=t+a+s,T[b++]=e+l-i,T[b++]=r,T[b++]=n,V[b++]=c,V[+b]=u}aa=0;let W,Ob,X,Y,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Z,Wb,Xb,Yb,Zb,$b,ac,bc,cc=0;function dc(){I(Tb),I(Ub),Y=new ec,X=new fc,Xb=15,Yb=1,Zb=0,Rb=new gc,Sb=new jc,Pb=new kc,Qb=new lc,Wb=[],Z=[],Vb=[],$b=0,ac=new va;for(let e=-18;e<20;e+=6)for(let t=-18;t<20;t+=6)0!==e&&Wb.push(new mc(u(y.x+e,y.y+t+8)))}function nc(){var i=W;ub=i;for(var s=(tb=[]).length=e(ub.x*ub.y);s--;)tb[s]=0;for((Ob=new yb(i,u(16),u(4))).A=10,s=u(5,Xb);s.y<i.y;s.y++)Ob.setData(s,new vb(12));for((i=Ob).canvas.width=i.size.x*i.s.x,i.canvas.height=i.size.y*i.s.y,i.Da=[E,F,y,z],E=i.canvas,F=i.context,y=i.size.scale(.5),z=i.s.x,Ma(),s=i.size.x;s--;)for(let t=i.size.y;t--;)wb(i,u(s,t));Nb(1),[E,F,y,z]=i.Da}function oc(){Wb.forEach(t=>I(t)),Z.forEach(t=>I(t)),Vb.forEach(t=>I(t))}function pc(){za=u(720,1280),W=u(44,80),y=W.scale(.5),z=16,X=new fc,Tb=new qc,Ub=new rc}function sc(h){[...Z,...Vb].filter(t=>{var e=h.g.x,i=h.g.y,s=t.g.x,a=t.g.y;(s-e)*(s-e)+(a-i)*(a-i)<=64&&(t.j-=75,Sa(t,t.g.o(h.g).normalize().scale(10))),e=h.g.x,i=h.g.y,((s=t.g.x)-e)*(s-e)+((a=t.g.y)-i)*(a-i)<=16&&(t.j-=100,Sa(t,t.g.o(h.g).normalize().scale(20)))}),tc(new t(1,0,0),new t(0,0,0),h.g,h.size.scale(2)),tc(new t(0,1,0),new t(0,0,0),h.g,h.size.scale(2)),Zb=.1}function tc(t,e,i,s){new Bb(i,0,s,.1,200,da,0,u(16),t,e,t.scale(1,0),e.scale(1,0),.2,1,1,.1,.05,.99,.95,.4,da,.1,1,0,1)}class ec extends J{constructor(){super(u(W.x/2,22),u(4),10),Wa(this,1),this.A=5,this.l=this.j=100,this.O=this.U=0,Ta(this,new J(this.g,u(5),13,x,0,new t,15),u(0,-3))}update(){if(this.O+=Ba,Rb.selected&&X==X&&S(0)&&X.g.y>Xb&&10<=this.l&&.5<this.O){const t=X.g.o(this.g);Sa(new uc(this.g,t.angle()),t.normalize()),this.l-=10,this.O=0}2<this.U&&this.l<100&&(this.l+=5,this.U=0),100<this.l&&(this.l=100),this.U+=Ba}}class mc extends J{constructor(t){super(t,u(3),6),Wa(this),this.ia=!0}update(){var i;super.update(),this.color=new t(1,1,1),Pb.selected&&bc&&(i=e(Math.cos(C)),this.color=new t(i,i,i))}D(e){var i;if(this.ia)return Pb.selected&&0<=Y.l-10&&e===X&&S(0)&&(Vb.push(new vc(this.g)),this.ia=!1,this.L=7,Y.l-=10,i=(e=new t(.7,.44,.44)).$(new t,.5),tc(e,i,this.g,this.size)),!1}}function wc(t){e(t.g.x-t.target.x)<.1&&e(t.g.y-t.target.y)<.1?(t.target=void 0,t.h=u(0,0)):(Sa(t,t.target.o(t.g).scale(.01)),t.h.x=g(t.h.x,-t.H,t.H),t.h.y=g(t.h.y,-t.H,t.H),t.g.x=g(t.g.x,t.size.x/2,W.x-t.size.x/2),t.g.y=g(t.g.y,t.size.y/2+14,W.y-t.size.y/2),t.target.x=g(t.target.x,t.size.x/2,W.x-t.size.x/2),t.target.y=g(t.target.y,t.size.y/2+14,W.y-t.size.y/2))}function xc(t){var e;void 0===t.target&&(e=ma(1),t.target=u(t.g.x+e.x,t.g.y+e.y)),wc(t)}class yc extends J{constructor(t,e){super(t,u(3),e),Wa(this,1),this.T=.9,this.i=10,this.u=.5,this.H=l(.08,.1),this.target=void 0,this.j=100,this.A=10}update(){super.update(),this.j<=0&&(tc(new t(1,0,0),new t(0,0,0),this.g,this.size),I(this))}attack(t,e){t.j-=e}}class vc extends yc{constructor(t){super(t,Math.round(l(3,5))),this.j=150}update(){var i;if(super.update(),this.color=new t(1,1,1),Qb.selected&&bc&&(i=e(Math.cos(C)),this.color=new t(i,i,i)),Z.length){let e=void 0;Z.forEach(t=>{void 0===e&&(e=t.g),ra(this.g,t.g)**.5<ra(this.g,e)**.5&&(e=t.g)}),this.target=e,wc(this)}else xc(this)}D(t){return t instanceof zc?(this.attack(t,1),!0):t instanceof yc||t instanceof ec?!(this.target=void 0):(t===X&&S(0)&&Qb.selected&&0<Y.l-20&&(Y.l-=20,sc(this),I(this)),!1)}}class zc extends yc{constructor(){super(u(l(y.x-15,y.x+15),y.y+42),Math.round(l(8,9))),this.X=!1}update(){if(super.update(),this.color=new t(1,1,1),this.X)return this.j-=12*Ba,this.color=new t(0,1,1),Y.l<100&&(Y.l+=10*Ba),!1;var i;(Sb.selected||Rb.selected)&&bc&&(i=e(Math.cos(C)),this.color=new t(i,i,i))}D(e){return e instanceof zc?!(this.target=void 0):e instanceof vc||e instanceof ec?(this.attack(e,1),!0):(e===X&&S(0)&&Sb.selected&&(Z.forEach(e=>{for(e.X=!1,e.color=new t(1,1,1);0<e.children.length;){var i=e.children[0];e.removeChild(i),I(i),e.H=l(.08,.1)}}),this.X=!0,this.H=.05,Ta(this,new Bb(u(this.g),0,Aa,0,4,0,0,x,new t(0,1,1),new t(0,0,0),new t(0,1,1,0),new t(0,0,0,0),2,.5,.2,.1,.05,.99,1,1,da,.05,.5,0),u(),0)),!1)}}class Ac extends zc{update(){if(super.update(),Vb.length>Z.length)this.target=Z.reduce((t,e)=>t.add(e.g),u(0,0)).scale(1/Z.length);else if(0<Vb.length){let e=void 0;Vb.forEach(t=>{void 0===e&&(e=t.g),ra(this.g,t.g)**.5<ra(this.g,e)**.5&&(e=t.g)}),this.target=e}else this.target=0<Y.j?Y.g:void 0;(this.target?wc:xc)(this)}}class uc extends J{constructor(t,e){super(t,u(2),11,u(16),e),Wa(this,1),this.A=50}D(e){return e instanceof yc&&(I(this),e.target=void 0,e.j-=50,e.i&&(e.h=e.h.add(this.h)),tc(new t(0,1,0),new t(0,0,0),this.g,this.size),!0)}}class fc extends J{constructor(){super(u(W.x/2,W.y/2),u(1),-1,u(16),0,new t(0,0,0,0)),Wa(this,1),this.A=20}update(){this.g.x=fb.x,this.g.y=fb.y,this.g.x=g(this.g.x,this.size.x/2,W.x-this.size.x/2),this.g.y=g(this.g.y,this.size.y/2,W.y-this.size.y/2)}}function Bc(t){A.forEach(t=>{t instanceof Cc&&(t.selected=!1)}),t.selected=!0}class Cc extends J{constructor(e,i,s,a){var h=new t(1,0,0),n=new t(.5,0,0);super(e,i),this.text=s,this.ka=a,this.color=h,this.backgroundColor=n,this.selected=!1,this.font=new eb(void 0,u(8),u(0,1),0,F),Wa(this)}I(){this.selected?(this.color=new t(1,0,1),this.backgroundColor=new t(.5,0,.5)):(this.color=new t(1,0,0),this.backgroundColor=new t(.5,0,0)),O(u(this.g.x,this.g.y),this.size,this.backgroundColor,0,!1),O(u(this.g.x,this.g.y),u(this.size.x-1,this.size.y-1),this.color,0,!1),Q(this.font,this.text,u(this.g.x,this.g.y+1.5),.2),-1<this.ka&&Q(this.font,this.ka.toString(),u(this.g.x+5,this.g.y-1),.2)}D(){return ka(X.g,X.size,this.g,this.size)&&S(0)&&Bc(this),!1}}class gc extends Cc{constructor(){super(u(W.x-19.5,10),u(11,5),"Nether\nBolt",1),this.selected=!0}}class jc extends Cc{constructor(){super(u(W.x-7.5,10),u(11,5),"Drain\nSoul",2)}}class kc extends Cc{constructor(){super(u(W.x-19.5,4),u(11,5),"Raise\nDead",3)}}class lc extends Cc{constructor(){super(u(W.x-7.5,4),u(11,5),"Corpse\nBomb",4)}}class qc extends Cc{constructor(){super(u(y.x-10,y.y-14),u(15,8),"Tutorial\nMode",-1)}}class rc extends Cc{constructor(){super(u(y.x+10,y.y-14),u(15,8),"Endless\nMode",-1)}}!function(e,r,i){M.onerror=M.onload=()=>{Ja=u(.3).ea(Ia=u(M.width,M.height)),document.body.style="margin:0;overflow:hidden;background:#000;touch-action:none;user-select:none;-webkit-user-select:none;-moz-user-select:none",document.body.appendChild(E=document.createElement("canvas")),F=E.getContext("2d"),E.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",Hb(),document.body.appendChild(Ya=document.createElement("canvas")),N=Ya.getContext("2d"),Ya.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",e(),o()};const o=(e=0)=>{var i,s,a=e-Ha;if(Ha=e,aa&&(Ka=ja(.05,Ka||0,1e3/(a||1))),C+=a/1e3,D=fa(D+!Ga*a,50),za.x?(Ya.width=E.width=za.x,Ya.height=E.height=za.y,e=innerWidth/innerHeight,a=E.width/E.height,E.style.width=Ya.style.width=e<a?"100%":"",E.style.height=Ya.style.height=e<a?"":"100%",H&&(H.style.width=E.style.width,H.style.height=E.style.height)):(Ya.width=E.width=fa(innerWidth,ya.x),Ya.height=E.height=fa(innerHeight,ya.y)),Na=u(E.width,E.height),Ga)ib(),r(),nb();else{for(e=0,D<0&&-9<D&&(e=D,D=0);0<=D;D-=1e3/60){ib();{i=void 0;if(0===cc)Ub.selected?(bc=!1,cc=1,nc(),dc()):Tb.selected&&(bc=!0,cc=1,nc(),dc());else if(1===cc){S(49)?Bc(Rb):S(50)?Bc(Sb):S(51)?Bc(Pb):S(52)&&Bc(Qb);if(i=!Z.length)i=wa>ac.time;if(i){$b++;for(i=0;i<$b;i++)Z.push(new Ac);!bc||1!==$b&&3!==$b&&5!==$b||(Ga=!0)}else ac.active()||ac.set(2)}}Ra(),r(),nb()}D+=e}Ma();{var h=new eb;0===cc?(O(y,W,new t(0,0,0),0,!1),Q(h,"Necrotic\nCommander",u(y.x,y.y+24),.6),K(u(y.x,y.y+2+Math.sin(C)),u(12),1,x,new t(1,1,1),0,0,new t(0,0,0,0),!0)):(O(y,W,new t(0,.1,.1),0,!1),O(u(22,7),u(W.x,15),new t(.4,.4,.4),0,!1),O(u(22,7),u(W.x-3,12),2,new t(1,1,1),!1),a=.14*Y.j,Q(h,`Health (${Y.j})`,u(10,12),.18),bb(u(2,9),u(18,9),2,new t(.5,.5,.5)),0<Y.j&&bb(u(3,9),u(3+a,9),1,new t(1,0,0)),a=Math.floor(.14*Y.l),Q(h,`Mana (${Math.floor(Y.l)})`,u(10,6),.18),bb(u(2,3),u(18,3),2,new t(.5,.5,.5)),0<Y.l&&bb(u(3,3),u(3+a,3),1,new t(0,0,1)))}A.sort((t,e)=>t.A-e.A);for(s of A)s.v||s.I();if(1===cc){var n=new eb;if(Ga){switch($b){case 1:O(y,u(40,35),new t(0,0,0),0,!0),K(u(y.x,y.y+8+Math.sin(C)),u(8),1,x,new t(1,1,1),0,0,new t(0,0,0,0),!0),Q(n,"Look at that that fool!\nI'll destroy him with\nmy Nether Bolt!\n\nClick to fire!",y,.2),Q(n,"Click to Continue",u(y.x,y.y-12),.2),Bc(Rb);break;case 3:O(y,u(40,35),new t(0,0,0),0,!0),K(u(y.x,y.y+8+Math.sin(C)),u(8),1,x,new t(1,1,1),0,0,new t(0,0,0,0),!0),Q(n,"I can use Drain Soul\nto replenish my mana by\ntargeting a peasant.\n\nClick to curse\none of them.",y,.2),Q(n,"Click to Continue",u(y.x,y.y-12),.2),Bc(Sb);break;case 5:O(y,u(40,40),new t(0,0,0),0,!0),K(u(y.x,y.y+10+Math.sin(C)),u(8),1,x,new t(1,1,1),0,0,new t(0,0,0,0),!0),Q(n,"Too many of them!\nI can Raise the Dead\nby clicking on their\ngrave stones.\n\nI can also blow them up\nby using Corpse Bomb\non them!",u(y.x,y.y+2),.2),Q(n,"Click to Continue",u(y.x,y.y-15),.2),Bc(Pb)}S(0)&&(Ga=!1)}0===Y.j&&Yb<=0&&(O(u(y.x,y.y+10),u(40,25),new t(0,0,0),0,!0),Q(n,`You survived
to wave ${$b}!

Click to
play again`,u(y.x,y.y+18),.4))}Eb(),Nb(),aa&&(N.textAlign="right",N.textBaseline="top",N.font="1em monospace",N.fillStyle="#000",s="LittleJS v1.3.8 / "+La+" / "+A.length+" / "+Ka.toFixed(1)+" GL",N.fillText(s,E.width-3,3),N.fillStyle="#fff",N.fillText(s,E.width-2,2),La=0),requestAnimationFrame(o)};M.src=i}(pc,function(){1===cc&&(Wb=Wb.filter(t=>!t.v),Z=Z.filter(t=>!t.v),Vb=Vb.filter(t=>!t.v),0<Zb?(y.x+=l(-1,1),Zb-=Ba):y=W.scale(.5),Y.j<=0&&(Yb-=Ba,Y.j=0,Y.v||(tc(new t(1,0,0),new t(0,0,0),Y.g,Y.size),tc(new t(.4,.4,.4),new t(0,0,0),Y.g,Y.size)),I(Y),I(X),Yb<=0&&S(0)&&(oc(),pc(),dc())))},"tiles.png");</script> 
