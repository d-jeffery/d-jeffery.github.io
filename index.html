<body><script> 
let ba=0;const e=Math.PI,g=t=>t<0?-t:t,ca=(t,e)=>t<e?t:e,ea=(t,e)=>e<t?t:e,l=(t,e=0,i=1)=>t<e?e:i<t?i:t,fa=(t,e=0,i=1)=>i-e?l((t-e)/(i-e)):0,ha=(t,e=0,i=1)=>e+l(t)*(i-e),ia=(t,e,i,s)=>2*g(t.x-i.x)<e.x+s.x&2*g(t.y-i.y)<e.y+s.y,p=(t=1,e=0)=>e+(t-e)*Math.random(),ka=(t=1)=>0<t?ja(t*p(0/t,1)**.5):new u,ja=(t=1)=>la(p(2*e),t),oa=(t=new w,e=new w(0,0,0,1),i)=>i?t.$(e,p()):new w(p(t.r,e.r),p(t.m,e.m),p(t.b,e.b),p(t.a,e.a)),x=(t=0,e)=>null==t.x?new u(t,null==e?t:e):new u(t.x,t.y);function la(t=0,e=1){var i=new u;return i.x=e*Math.sin(t),i.y=e*Math.cos(t),i}function pa(t,e){return(t.x-e.x)**2+(t.y-e.y)**2}function qa(t){var e=t.length();return 1<e?t.scale(1/e):t}function ra(t,e){return 0<=t.x&&0<=t.y&&t.x<e.x&&t.y<e.y}class u{constructor(t=0,e=0){this.x=t,this.y=e}R(){return new u(this.x,this.y)}add(t){return new u(this.x+t.x,this.y+t.y)}o(t){return new u(this.x-t.x,this.y-t.y)}multiply(t){return new u(this.x*t.x,this.y*t.y)}ea(t){return new u(this.x/t.x,this.y/t.y)}scale(t){return new u(this.x*t,this.y*t)}length(){return(this.x**2+this.y**2)**.5}normalize(t=1){var e=this.length();return e?this.scale(t/e):new u(0,t)}angle(){return Math.atan2(this.x,this.y)}rotate(t){var e=Math.cos(t);return t=Math.sin(t),new u(this.x*e-this.y*t,this.x*t+this.y*e)}direction(){return g(this.x)>g(this.y)?this.x<0?3:1:this.y<0?2:0}floor(){return new u(Math.floor(this.x),Math.floor(this.y))}$(t,e){return this.add(t.o(this).scale(l(e)))}toString(t=3){return`(${(this.x<0?"":" ")+this.x.toFixed(t)},${(this.y<0?"":" ")+this.y.toFixed(t)} )`}}function ta(t){return(255*t.r|0)+(255*t.m<<8)+(255*t.b<<16)+(255*t.a<<24)}class w{constructor(t=1,e=1,i=1,s=1){this.r=t,this.m=e,this.b=i,this.a=s}R(){return new w(this.r,this.m,this.b,this.a)}add(t){return new w(this.r+t.r,this.m+t.m,this.b+t.b,this.a+t.a)}o(t){return new w(this.r-t.r,this.m-t.m,this.b-t.b,this.a-t.a)}multiply(t){return new w(this.r*t.r,this.m*t.m,this.b*t.b,this.a*t.a)}ea(t){return new w(this.r/t.r,this.m/t.m,this.b/t.b,this.a/t.a)}scale(t,e=t){return new w(this.r*t,this.m*t,this.b*t,this.a*e)}$(t,e){return this.add(t.o(this).scale(l(e)))}toString(){return`rgb(${255*this.r|0},${255*this.m|0},${255*this.b|0},${this.a})`}}let ua=x(1920,1200),va=x(),y=x(16),wa=x(1),z=x(),A=ea(y.x,y.y);const za=1/60;let C=[],Aa=[],Ba=0,Ca=0,Da=0,Ea=0,D=0,Fa,Ga,Ha,Ia;function Ja(){Ka=x(E.width,E.height),F.imageSmoothingEnabled=!1;var t=E.width,e=E.height,i=z.x,s=z.y,a=A;G.viewport(0,0,H.width=t,H.height=e),G.clear(16384),G.bindTexture(3553,La),G.useProgram(Ma),Na=void 0,t=2*a/t,e=2*a/e,G.uniformMatrix4fv(G.getUniformLocation(Ma,"m"),0,new Float32Array([t,0,0,0,0,e,0,0,1,1,-1,1,-1-t*i,-1-e*s,0,0]))}function Oa(){Aa=C.filter(t=>t.ca);const i=t=>{if(!t.v){t.update();for(const e of t.children)i(e)}};for(const t of C)t.parent||i(t);C=C.filter(t=>!t.v),Ca=++Ba/60}function J(t){if(!t.v){t.v=1,t.parent&&t.parent.removeChild(t);for(const e of t.children)J(e,e.parent=0)}}function Ra(t,e){e=e.scale(1/t.i),t.i&&(t.h=t.h.add(e))}function Sa(t,e,i=x(),s=0){e.parent||t.children.includes(e),t.children.push(e),e.parent=t,e.xa=i.R(),e.wa=s}function Ta(t,e=0){t.ca=1,t.ja=e,t.I=1}class K{constructor(t=x(),e=wa,i=-1,s=y,a=0,h,n=0){this.g=t.R(),this.size=e,this.ta,this.K=i,this.s=s,this.angle=a,this.color=h,this.na,this.i=1,this.M=this.B=.99,this.u=0,this.S=.8,this.F=1,this.A=n,this.h=new u,this.W=0,this.ma=Ca,this.children=[],this.I=1,C.push(this)}update(){var t=this.parent;if(t)this.g=this.xa.multiply(x(t.C?-1:1,1)).rotate(-t.angle).add(t.g),this.angle=(t.C?-1:1)*this.wa+t.angle;else if(this.h.x=l(this.h.x,-1,1),this.h.y=l(this.h.y,-1,1),t=this.g.R(),this.g.x+=this.h.x*=this.B,this.g.y+=this.h.y=this.B*this.h.y+0*this.F,this.angle+=this.W*=this.M,this.i){var e,i,s,a,h,n,r,o=this.h.y<0;if(this.G&&(e=this.G.h?this.G.h.x:0,this.h.x=e+(this.h.x-e)*this.S,this.G=0),this.ca)for(var c of Aa)!this.ja&!c.ja||c.v||c.parent||c==this||!ia(this.g,this.size,c.g,c.size)||!this.D(c)|!c.D(this)||(ia(t,this.size,c.g,c.size)?(e=(i=(e=t.o(c.g)).length())<.01?ja(.001):e.scale(.001/i),this.h=this.h.add(e),c.i&&(c.h=c.h.o(e))):(e=this.size.add(c.size),i=2*(t.y-c.g.y)>e.y+0,s=2*g(t.y-c.g.y)<e.y,a=2*g(t.x-c.g.x)<e.x,!i&&!a&&s||(this.g.y=c.g.y+(e.y/2+.001)*(t.y-c.g.y<0?-1:1),c.G&&o||!c.i?(o&&(this.G=c),this.h.y*=-this.u):c.i&&(h=(this.i*this.h.y+c.i*c.h.y)/(this.i+c.i),n=c.h.y*(c.i-this.i)/(this.i+c.i)+2*this.h.y*this.i/(this.i+c.i),r=ea(this.u,c.u),this.h.y=ha(r,h,this.h.y*(this.i-c.i)/(this.i+c.i)+2*c.h.y*c.i/(this.i+c.i)),c.h.y=ha(r,h,n))),i||!s&&a||(this.g.x=c.g.x+(e.x/2+.001)*(t.x-c.g.x<0?-1:1),c.i?(e=(this.i*this.h.x+c.i*c.h.x)/(this.i+c.i),i=c.h.x*(c.i-this.i)/(this.i+c.i)+2*this.h.x*this.i/(this.i+c.i),s=ea(this.u,c.u),this.h.x=ha(s,e,this.h.x*(this.i-c.i)/(this.i+c.i)+2*c.h.x*c.i/(this.i+c.i)),c.h.x=ha(s,e,i)):this.h.x*=-this.u)));this.I&&Ua(this.g,this.size,this)&&!Ua(t,this.size,this)&&(c=Ua(new u(this.g.x,t.y),this.size,this),!Ua(new u(t.x,this.g.y),this.size,this)&&c||(this.G=o,this.h.y*=-this.u,(o=(t.y-this.size.y/2|0)-(t.y-this.size.y/2))<0&&o>this.B*this.h.y+0*this.F&&(this.h.y=this.B?(o-0*this.F)/this.B:0),this.g.y=t.y),c&&(this.g.x=t.x,this.h.x*=-this.u))}}H(){Va(this.g,this.ta||this.size,this.K,this.s,this.color,this.angle,this.C,this.na)}D(){return 1}removeChild(t){t.parent==this&&this.children.includes(t),this.children.splice(this.children.indexOf(t),1),t.parent=0}toString(){}}const M=new Image;let E,F,N,O,Ka=x();const Wa=t=>t.o(z).multiply(x(A,-A)).add(Ka.scale(.5)).o(x(.5));function Va(t,e=x(1),h=-1,n=y,r=new w,i=0,s,a=new w(0,0,0,0),o=1){var c,l,u;ba&&++Ia,o?h<0||!M.width?Xa(t.x,t.y,e.x,e.y,i,0,0,0,0,0,ta(r)):(u=Fa.x/n.x|0,o=n.x/Fa.x,c=n.y/Fa.y,l=h%u*o,u=(h/u|0)*c,Xa(t.x,t.y,s?-e.x:e.x,e.y,i,l+Ga.x,u+Ga.y,l-Ga.x+o,u-Ga.y+c,ta(r),ta(a))):Ya(t,e,i,s,t=>{var e,i,s,a;h<0?(t.fillStyle=r,t.fillRect(-.5,-.5,1,1)):(i=Fa.x/n.x|0,e=h%i*n.x+.3,i=(h/i|0)*n.y+.3,s=n.x-.6,a=n.y-.6,t.globalAlpha=r.a,t.drawImage(M,e,i,s,a,-.5,-.5,1,1))})}function P(t,e,i,s,a){Va(t,e,-1,y,i,s,0,0,a)}function Za(t,e,i=.1,s){e=x((e.x-t.x)/2,(e.y-t.y)/2),i=x(i,2*e.length()),P(t.add(e),i,s,e.angle(),0)}function Ya(t,e,i,s,a){var h=F;t=Wa(t),e=e.scale(A),h.save(),h.translate(t.x+.5|0,t.y-.5|0),h.rotate(i),h.scale(s?-e.x:e.x,e.y),a(h),h.restore()}let $a;function ab(r,t,o,c=4){const l=r.context,u=(l.save(),l.imageSmoothingEnabled=!1,r.s),b=u.add(r.ya).scale(c),d=r.image.width/r.s.x|0;t.split("\n").forEach((e,i)=>{var s=e.length*u.x*c/2|0;for(let t=e.length;t--;){((a=e[t].charCodeAt())<32||127<a)&&(a=127);var a=(h=r.Fa+a-32)%d,h=h/d|0,n=o.add(x(t,i).multiply(b));l.drawImage(r.image,a*u.x,h*u.y,u.x,u.y,n.x-s,n.y,u.x*c,u.y*c)}}),l.restore()}function Q(t,e,i,s=1){ab(t,e,Wa(i).floor(),s*A|0)}class bb{constructor(t,e=x(8),i=x(0,1),s=0,a=O){t||$a||(($a=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAYAQAAAAA9+x6JAAAAAnRSTlMAAHaTzTgAAAGiSURBVHjaZZABhxxBEIUf6ECLBdFY+Q0PMNgf0yCgsSAGZcT9sgIPtBWwIA5wgAPEoHUyJeeSlW+gjK+fegWwtROWpVQEyWh2npdpBmTUFVhb29RINgLIukoXr5LIAvYQ5ve+1FqWEMqNKTX3FAJHyQDRZvmKWubAACcv5z5Gtg2oyCWE+Yk/8JZQX1jTTCpKAFGIgza+dJCNBF2UskRlsgwitHbSV0QLgt9sTPtsRlvJjEr8C/FARWA2bJ/TtJ7lko34dNDn6usJUMzuErP89UUBJbWeozrwLLncXczd508deAjLWipLO4Q5XGPcJvPu92cNDaN0P5G1FL0nSOzddZOrJ6rNhbXGmeDvO3TF7DeJWl4bvaYQTNHCTeuqKZmbjHaSOFes+IX/+IhHrnAkXOAsfn24EM68XieIECoccD4KZLk/odiwzeo2rovYdhvb2HYFgyznJyDpYJdYOmfXgVdJTaUi4xA2uWYNYec9BLeqdl9EsoTw582mSFDX2DxVLbNt9U3YYoeatBad1c2Tj8t2akrjaIGJNywKB/7h75/gN3vCMSaadIUTAAAAAElFTkSuQmCC"),this.image=t||$a,this.s=e,this.ya=i,this.Fa=s,this.context=a}}const cb=(t,e=0)=>S[e]&&1&S[e][t]?1:0,db=(t=0)=>S[t]&&2&S[t][0]?1:0;let eb=x(),ib=x(),jb=0;const kb=(t,e=0)=>cb(t,e+1);let S=[[]];function lb(){for(const t of S)for(const e in t)t[e]&=1}onkeydown=t=>{t.repeat||(S[jb=0][mb(t.keyCode)]=3)},onkeyup=t=>{S[0][mb(t.keyCode)]=4};const mb=t=>87==t?38:83==t?40:65==t?37:68==t?39:t,nb=(onmousedown=t=>{S[jb=0][t.button]=3,onmousemove(t),t.button&&t.preventDefault()},onmouseup=t=>S[0][t.button]=2&S[0][t.button]|4,onmousemove=t=>{var e;return t=E?(e=E.getBoundingClientRect(),x(E.width,E.height).multiply(x(fa(t.x,e.left,e.right),fa(t.y,e.top,e.bottom)))):x(),ib=t},onwheel=t=>t.ctrlKey||(t.deltaY<0?-1:1),oncontextmenu=()=>!1,[]);function ob(){if(navigator.getGamepads&&document.hasFocus()){var e=navigator.getGamepads();for(let t=e.length;t--;){var i=e[t];const h=S[t+1]||(S[t+1]=[]),n=nb[t]||(nb[t]=[]);if(i){for(var s=t=>.3<t?fa(t,.3,.8):t<-.3?-fa(-t,.3,.8):0,a=0;a<i.axes.length-1;a+=2)n[a>>1]=qa(x(s(i.axes[a]),s(-i.axes[a+1])));for(s=i.buttons.length;s--;)a=i.buttons[s],h[s]=a.pressed?1+2*!kb(s,t):4*kb(s,t),jb|=!t&&a.pressed;(i=x(kb(15,t)-kb(14,t),kb(12,t)-kb(13,t))).x**2+i.y**2&&(n[0]=qa(i))}}}}if(void 0!==window.ontouchstart){let i,s;ontouchstart=ontouchmove=ontouchend=t=>{t.button=0;var e=t.touches.length;return e?(s||pb([qb(...[0,s=1])]),t.x=t.touches[0].clientX,t.y=t.touches[0].clientY,(i?onmousemove:onmousedown)(t)):i&&onmouseup(t),i=e,!t.cancelable}}let rb;function pb(t){var i,e;(rb=rb||new(window.AudioContext||webkitAudioContext)).resume(),"running"==rb.state&&(i=rb.createBuffer(t.length,t[0].length,44100),e=rb.createBufferSource(),t.forEach((t,e)=>i.getChannelData(e).set(t)),e.buffer=i,e.playbackRate.value=1,e.loop=0,(t=rb.createGain()).gain.value=.5,t.connect(rb.destination),(window.StereoPannerNode?e.connect(new StereoPannerNode(rb,{pan:l(0,-1,1)})):e).connect(t),e.start())}function qb(t=1,i=.05,s=220,a=0,h=0,n=.1,r=0,o=1,c=0,l=0,x=0,u=0,b=0,d=0,y=0,w=0,f=0,v=1,m=0,z=0){let A=2*e,E=c*=500*A/44100/44100,C=[],T=(i=s*=(1+i*p(-1,1))*A/44100,0),S=0,G=0,D=1,M=0,F=0,k=0,V,N;for(l*=500*A/44100**3,y*=A/44100,x*=A/44100,u*=44100,b=44100*b|0,N=(a=44100*a+9)+(m*=44100)+(h*=44100)+(n*=44100)+(f*=44100)|0;G<N;C[G++]=k)++F%(100*w|0)||(k=r?1<r?2<r?3<r?Math.sin((T%A)**3):ea(ca(Math.tan(T),1),-1):1-(2*T/A%2+2)%2:1-4*g(Math.round(T/A)-T/A):Math.sin(T),k=(b?1-z+z*Math.sin(A*G/b):1)*(k<0?-1:1)*(k<0?-k:k)**o*t*.5*(G<a?G/a:G<a+m?1-(G-a)/m*(1-v):G<a+m+h?v:G<N-f?(N-G-f)/n*v:0),k=f?k/2+(f>G?0:(G<N-f?1:(N-G)/f)*C[G-f|0]/2):k),V=(s+=c+=l)*Math.cos(y*S++),T+=V-V*d*(1-1e9*(Math.sin(G)+1)%2),D&&++D>u&&(s+=x,i+=x,D=0),!b||++M%b||(s=i,c=E,D=D||1);return C}let sb=[],tb=x();function Ua(t,e=x(),i){var s=ea(t.x-e.x/2|0,0),a=ea(t.y-e.y/2|0,0),h=ca(t.x+e.x/2,tb.x);for(t=ca(t.y+e.y/2,tb.y);a<t;++a)for(e=s;e<h;++e){var n=sb[a*tb.x+e];if(n&&(!i||0<n))return 1}}class ub{constructor(t){var e=new w;this.ba=t,this.C=this.direction=0,this.color=e}clear(){this.ba=this.direction=this.C=0,color=new w}}function vb(t,i){var s=i.floor().add(t.g).add(x(.5));wb(t,s,t=>t.clearRect(-.5,-.5,1,1)),null!=(i=t.getData(i)).ba&&Va(s,x(1),i.ba,t.s,i.color,i.direction*e/2,i.C)}function wb(t,e,i){var s=x(1);const a=t.context;a.save(),e=e.o(t.g).multiply(t.s),s=s.multiply(t.s),a.translate(e.x,t.canvas.height-e.y),a.rotate(0),a.scale(s.x,s.y),i(a),a.restore()}class xb extends K{constructor(t=tb,e=y,i=x(1)){for(super(x(0,0),t,-1,e,0,void 0,0),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.scale=i,this.ua,this.data=[],t=this.size,t=g(t.x*t.y);t--;)this.data.push(new ub)}setData(t,e,i){ra(t,this.size)&&(this.data[(0|t.y)*this.size.x+t.x|0]=e,i&&vb(this,t))}getData(t){return ra(t,this.size)&&this.data[(0|t.y)*this.size.x+t.x|0]}update(){}H(){var t=Wa(this.g.add(x(0,this.size.y*this.scale.y)));(this.ua?O:F).drawImage(this.canvas,t.x,t.y,A*this.size.x*this.scale.x,A*this.size.y*this.scale.y)}}function yb(t){var e=null!=t.Y.x?new u(p(-.5,.5),p(-.5,.5)).multiply(t.Y).rotate(t.angle):ka(.5*t.Y),e=new zb(t.g.add(e),t.K,t.s,t.angle+p(t.ka,-t.ka));const i=t.Ba;var s=(r=t=>t+t*p(i,-i))(t.Aa),a=r(t.aa),h=r(t.Da),n=r(t.speed),r=r(t.oa)*(2*(0|p(2))-1);const o=p(t.fa,-t.fa),c=oa(t.ra,t.sa,t.la),l=oa(t.pa,t.qa,t.la);e.P=c,e.O=l.o(c),e.h=la(t.angle+o,n),e.W=r,e.va=s,e.aa=a,e.Ea=h-a,e.Z=t.Z,e.B=t.B,e.M=t.M,e.u=t.u,e.S=t.S,e.F=t.F,e.I=t.I,e.L=t.L,e.A=t.A,e.V=t.V,e.C=p()<.5,e.da=t.Ga,t.za&&t.za(e)}class Ab extends K{constructor(t,i,s=0,a=0,h=100,n=e,r=-1,o=y,c=new w,l=new w,x=new w(1,1,1,0),b=new w(1,1,1,0),d=.5,g=.1,f=1,p=.1,v=.05,m=1,z=1,A=0,E=e,C=.1,T=.2,S,G,D=1,M=G?1e9:0){super(t,new u,r,o,i,void 0,M),this.Y=s,this.ha=a,this.ga=h,this.fa=n,this.ra=c,this.sa=l,this.pa=x,this.qa=b,this.la=D,this.Aa=d,this.aa=g,this.Da=f,this.speed=p,this.oa=v,this.B=m,this.M=z,this.F=A,this.ka=E,this.Z=C,this.Ba=T,this.I=S,this.L=G,this.J=this.V=0}update(){if(this.parent&&super.update(),!this.ha||Ca-this.ma<=this.ha){if(+this.ga){var t=1/this.ga;for(this.J+=za;0<this.J;this.J-=t)yb(this)}}else J(this)}H(){}}class zb extends K{constructor(t,e,i,s){super(t,new u,e,i,s)}H(){var t=ca((Ca-this.ma)/this.va,1),e=this.aa+t*this.Ea,e=new u(e,e),i=this.Z/2,i=new w(this.P.r+t*this.O.r,this.P.m+t*this.O.m,this.P.b+t*this.O.b,(this.P.a+t*this.O.a)*(t<i?t/i:1-i<t?(1-t)/i:1));if(this.L&&(Na=1),this.V){var s=this.h.length();const a=this.h.scale(1/s);s*=this.V,e.y=ea(e.x,s),this.angle=a.angle(),Va(this.g.add(a.multiply(x(0,-s/2))),e,this.K,this.s,i,this.angle,this.C)}else Va(this.g,e,this.K,this.s,i,this.angle,this.C);this.L&&(Na=void 0),1==t&&(this.color=i,this.size=e,this.da&&this.da(this),this.v=1)}}let Bb=[],Cb;function Db(){var t,e;Bb.length&&(t=Bb[0],e=Da-Cb,Cb?5<e?Bb.shift(Cb=0):t.H():Cb=Da)}let H,G,La,Ma,T,U,Eb,Fb,Na;function Gb(){H=document.createElement("canvas"),G=H.getContext("webgl",{antialias:!1}),H.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",La=Hb(),document.body.appendChild(H),Ma=Ib();var t=new ArrayBuffer(9437184);Jb(t.byteLength),T=new Float32Array(t),U=new Uint32Array(t);let h=Eb=0;(t=(t,e,i,s,a=0)=>{t=G.getAttribLocation(Ma,t),G.enableVertexAttribArray(t),G.vertexAttribPointer(t,s,e,a,24,h),h+=s*i})("p",5126,4,2),t("t",5126,4,2),t("c",5121,1,4,1),t("a",5121,1,4,1)}function Kb(t,e){return e=G.createShader(e),G.shaderSource(e,t),G.compileShader(e),e}function Ib(){var t=G.createProgram();return G.attachShader(t,Kb("precision highp float;uniform mat4 m;attribute vec2 p,t;attribute vec4 c,a;varying vec2 v;varying vec4 d,e;void main(){gl_Position=m*vec4(p,1,1);v=t;d=c;e=a;}",35633)),G.attachShader(t,Kb("precision highp float;varying vec2 v;varying vec4 d,e;uniform sampler2D s;void main(){gl_FragColor=texture2D(s,v)*d+e;}",35632)),G.linkProgram(t),t}function Jb(t){var e=G.createBuffer();G.bindBuffer(34962,e),G.bufferData(34962,t,35048)}function Hb(){var t,e=M;if(e&&e.width)return t=G.createTexture(),G.bindTexture(3553,t),G.texImage2D(3553,0,6408,6408,5121,e),G.texParameteri(3553,10241,9728),G.texParameteri(3553,10240,9728),G.texParameteri(3553,10242,33071),G.texParameteri(3553,10243,33071),t}function Lb(){var t;Eb&&(t=Fb?1:771,G.blendFuncSeparate(770,t,1,t),G.enable(3042),G.bufferSubData(34962,0,T.subarray(0,36*Eb)),G.drawArrays(4,0,6*Eb),Eb=0,Fb=Na)}function Mb(t){var e=F;(Eb||t)&&(Lb(),t&&e.drawImage(H,0,0))}function Xa(t,e,i,s,a,h,n,r,o,c=4294967295,l=0){65536!=Eb&&Fb==Na||Lb();var x=Math.cos(a)/2,u=Math.sin(a)/2;a=x*i,x*=s,i*=u,s*=u,u=36*Eb++,T[u++]=t-a-s,T[u++]=e-x+i,T[u++]=h,T[u++]=o,U[u++]=c,U[u++]=l,T[u++]=t+a+s,T[u++]=e+x-i,T[u++]=r,T[u++]=n,U[u++]=c,U[u++]=l,T[u++]=t-a+s,T[u++]=e+x+i,T[u++]=h,T[u++]=n,U[u++]=c,U[u++]=l,T[u++]=t-a-s,T[u++]=e-x+i,T[u++]=h,T[u++]=o,U[u++]=c,U[u++]=l,T[u++]=t+a-s,T[u++]=e-x-i,T[u++]=r,T[u++]=o,U[u++]=c,U[u++]=l,T[u++]=t+a+s,T[u++]=e+x-i,T[u++]=r,T[u++]=n,U[u++]=c,U[+u]=l}ba=0;let V,Nb,W,X,Ob,Pb,Qb,Rb,Sb,Y,Tb,Ub,Vb,Wb,Xb="Intro";function Yb(){X=new Zb,W=new $b,Ub=15,Vb=1,Wb=0,Pb=new cc,Ob=new dc,Qb=new ec,Rb=new fc,Tb=[],Y=[],Sb=[];for(var e=-15;e<17;e+=6)Y.push(new gc(x(z.x+e,z.y+34)));for(e=-18;e<20;e+=6)for(let t=-18;t<20;t+=6)0!==e&&Tb.push(new hc(x(z.x+e,z.y+t+8)))}function ic(){Tb.forEach(t=>J(t)),Y.forEach(t=>J(t)),Sb.forEach(t=>J(t))}function jc(){va=x(720,1280),V=x(44,80),z=V.scale(.5),A=16,W=new $b}function kc(h){[...Y,...Sb].filter(t=>{var e=h.g,i=t.g,s=t.size,a=g(e.x-i.x),e=g(e.y-i.y);a>s.x/2+8||e>s.y/2+8||!(a<=s.x/2||e<=s.y/2||(a-i.x/2^e-i.y/2+2^2)<=10)||(t.l-=50,Ra(t,t.g.o(h.g).normalize().scale(20)))}),lc(new w(1,0,0),new w(0,0,0),h.g,h.size.scale(2)),lc(new w(0,1,0),new w(0,0,0),h.g,h.size.scale(2)),Wb=.1}function mc(t){return t===W&&cb(0)||t===W&&kb(0)}function lc(t,i,s,a){new Ab(s,0,a,.1,200,e,0,x(16),t,i,t.scale(1,0),i.scale(1,0),.2,1,1,.1,.05,.99,.95,.4,e,.1,1,0,1)}class Zb extends K{constructor(){super(x(V.x/2,22),x(4),10),Ta(this,1),this.A=10,this.j=this.l=100,this.N=this.T=0,Sa(this,new K(this.g,x(5),17,y,0,new w,15),x(0,-3))}update(){if(this.l<=0)lc(new w(1,0,0),new w(0,0,0),this.g,this.size),lc(new w(.4,.4,.4),new w(0,0,0),this.g,this.size);else{if(this.N+=za,Qb.selected&&mc(W)&&W.g.y>Ub&&10<=this.j&&.5<this.N){const t=W.g.o(this.g);Ra(new nc(this.g,t.angle()),t.normalize()),this.j-=10,this.N=0}2<this.T&&this.j<100&&(this.j+=5,this.T=0),100<this.j&&(this.j=100),this.T+=za}}}class hc extends K{constructor(t){super(t,x(3),6),Ta(this),this.ia=!0}D(t){var e;if(this.ia)return Ob.selected&&0<=X.j-10&&mc(t)&&(Sb.push(new oc(this.g)),this.ia=!1,this.K=7,X.j-=10,e=(t=new w(.7,.44,.44)).$(new w,.5),lc(t,e,this.g,this.size)),!1}}function pc(t){g(t.g.x-t.target.x)<.1&&g(t.g.y-t.target.y)<.1?(t.target=void 0,t.h=x(0,0)):(Ra(t,t.target.o(t.g).scale(.01)),t.h.x=l(t.h.x,-t.U,t.U),t.h.y=l(t.h.y,-t.U,t.U),t.g.x=l(t.g.x,t.size.x/2,V.x-t.size.x/2),t.g.y=l(t.g.y,t.size.y/2+14,V.y-t.size.y/2),t.target.x=l(t.target.x,t.size.x/2,V.x-t.size.x/2),t.target.y=l(t.target.y,t.size.y/2+14,V.y-t.size.y/2))}function qc(t){var e;void 0===t.target&&(e=ka(1),t.target=x(t.g.x+e.x,t.g.y+e.y)),pc(t)}class rc extends K{constructor(t,e){super(t,x(3),e),Ta(this,1),this.S=.9,this.i=10,this.u=.5,this.U=p(.08,.12),this.target=void 0,this.l=100,this.A=1}update(){super.update(),this.l<0&&(lc(new w(1,0,0),new w(0,0,0),this.g,this.size),J(this))}attack(t,e){t.l-=e}}class oc extends rc{constructor(t){super(t,Math.round(p(3,5)))}update(){if(super.update(),Y.length){let e=void 0;Y.forEach(t=>{void 0===e&&(e=t.g),pa(this.g,t.g)**.5<pa(this.g,e)**.5&&(e=t.g)}),this.target=e,pc(this)}else qc(this)}D(t){return t instanceof sc?(this.attack(t,1),!0):t instanceof rc||t instanceof Zb?!(this.target=void 0):(mc(t)&&Pb.selected&&0<X.j-20&&(X.j-=20,J(this),kc(this)),!1)}}class sc extends rc{constructor(t){super(t,Math.round(p(8,9))),this.X=!1}D(t){return t instanceof sc?!(this.target=void 0):t instanceof oc||t instanceof Zb?(this.attack(t,1),!0):(mc(t)&&Rb.selected&&X.j<100?(Y.forEach(t=>{t.X=!1,t.color=new w(1,1,1)}),this.X=!0,this.color=new w(0,1,1)):this.X&&(this.l-=+za,X.j+=5*za),!1)}}class gc extends sc{update(){if(super.update(),Sb.length>Y.length)this.target=Y.reduce((t,e)=>t.add(e.g),x(0,0)).scale(1/Y.length);else if(0<Sb.length){let e=void 0;Sb.forEach(t=>{void 0===e&&(e=t.g),pa(this.g,t.g)**.5<pa(this.g,e)**.5&&(e=t.g)}),this.target=e}else this.target=X.g;(this.target?pc:qc)(this)}}class nc extends K{constructor(t,e){super(t,x(2),11,x(16),e),Ta(this,1),this.A=50}D(t){return t instanceof rc&&(J(this),t.target=void 0,t.l-=50,t.i&&(t.h=t.h.add(this.h)),lc(new w(0,1,0),new w(0,0,0),this.g,this.size),!0)}}class $b extends K{constructor(){super(x(V.x/2,V.y/2),x(1),-1,x(16),0,new w(0,0,0,0)),Ta(this,1),Sa(this,new Ab(x(0,0),0,wa,0,4,0,0,y,new w(1,0,0),new w(0,0,0),new w(1,0,0,0),new w(0,0,0,0),2,.5,.2,.1,.05,.99,1,1,e,.05,.5,0),x(.5,-2),e),this.A=20}update(){jb?(this.g.x+=(nb[0]&&nb[0][0]||x()).x,this.g.y+=(nb[0]&&nb[0][0]||x()).y):(this.g.x=eb.x,this.g.y=eb.y),this.g.x=l(this.g.x,this.size.x/2,V.x-this.size.x/2),this.g.y=l(this.g.y,this.size.y/2,V.y-this.size.y/2)}}class tc extends K{constructor(t,e){var i=new w(1,0,0),s=new w(.5,0,0);super(t,x(11,5)),this.text=e,this.color=i,this.backgroundColor=s,this.selected=!1,this.font=new bb(void 0,x(8),x(0,1),0,F),Ta(this)}H(){this.selected?(this.color=new w(1,0,1),this.backgroundColor=new w(.5,0,.5)):(this.color=new w(1,0,0),this.backgroundColor=new w(.5,0,0)),P(x(this.g.x,this.g.y),x(11,5),this.backgroundColor,0,!1),P(x(this.g.x,this.g.y),x(10,4),this.color,0,!1),Q(this.font,this.text,x(this.g.x,this.g.y+1.5),.2)}D(){return ia(W.g,W.size,this.g,this.size)&&(cb(0)||kb(0))&&(C.forEach(t=>{t instanceof tc&&(t.selected=!1)}),this.selected=!0),!1}}class dc extends tc{constructor(){super(x(V.x-7.5,10),"Raise\nDead")}}class cc extends tc{constructor(){super(x(V.x-19.5,4),"Corpse\nBomb")}}class ec extends tc{constructor(){super(x(V.x-19.5,10),"Nether\nBolt"),this.selected=!0}}class fc extends tc{constructor(){super(x(V.x-7.5,4),"Drain\nSoul")}}!function(t,e){M.onerror=M.onload=()=>{Ga=x(.3).ea(Fa=x(M.width,M.height)),document.body.style="margin:0;overflow:hidden;background:#000;touch-action:none;user-select:none;-webkit-user-select:none;-moz-user-select:none",document.body.appendChild(E=document.createElement("canvas")),F=E.getContext("2d"),E.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",Gb(),document.body.appendChild(N=document.createElement("canvas")),O=N.getContext("2d"),N.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",t(),n()};const n=(t=0)=>{var e,i=t-Ea;for(Ea=t,ba&&(Ha=ha(.05,Ha||0,1e3/(i||1))),Da+=i/1e3,D=ca(D+ +i,50),va.x?(N.width=E.width=va.x,N.height=E.height=va.y,t=innerWidth/innerHeight,i=E.width/E.height,E.style.width=N.style.width=t<i?"100%":"",E.style.height=N.style.height=t<i?"":"100%",H&&(H.style.width=E.style.width,H.style.height=E.style.height)):(N.width=E.width=ca(innerWidth,ua.x),N.height=E.height=ca(innerHeight,ua.y)),Ka=x(E.width,E.height),t=0,D<0&&-9<D&&(t=D,D=0);0<=D;D-=1e3/60){document.hasFocus()||(S=[[]]),eb=ib.add(x(.5)).o(Ka.scale(.5)).multiply(x(1/A,-1/A)).add(z),ob();{s=void 0;a=void 0;if("Intro"===Xb){if(db()||db(1))Xb="Help"}else if("Help"===Xb&&(db()||db(1))){Xb="Game";var s=V;tb=s;sb=[];for(var a=sb.length=g(tb.x*tb.y);a--;)sb[a]=0;Nb=new xb(s,x(16),x(4));Nb.A=10;for(a=x(5,Ub);a.y<s.y;a.y++)Nb.setData(a,new ub(16));s=Nb;s.canvas.width=s.size.x*s.s.x;s.canvas.height=s.size.y*s.s.y;s.Ca=[E,F,z,A];E=s.canvas;F=s.context;z=s.size.scale(.5);A=s.s.x;Ja();for(a=s.size.x;a--;)for(let t=s.size.y;t--;)vb(s,x(a,t));Mb(1);[E,F,z,A]=s.Ca;Yb()}}Oa(),"Game"===Xb&&(Tb=Tb.filter(t=>!t.v),Y=Y.filter(t=>!t.v),Sb=Sb.filter(t=>!t.v),0<Wb?(z.x+=p(-1,1),Wb-=za):z=V.scale(.5),X.l<=0&&(Vb-=za,X.l=0,J(X),J(W),Vb<=0&&(cb(0)||kb(0))&&(ic(),jc(),Yb()))),lb()}D+=t,Ja();{var h=new bb;"Intro"===Xb?(P(z,V,new w(0,0,0),0,!0),Q(h,"Necrotic\nCommander",x(z.x,z.y+24),.6),Va(x(z.x,z.y+2+Math.sin(Da)),x(12),18,y,new w(1,1,1),0,0,new w(0,0,0,0),!0),Q(h,"Click to Start",x(z.x,z.y-10),.4)):"Help"===Xb?(P(z,V,new w(0,0,0),0,!0),Q(h,"You are the\nNecrotic Commander",x(z.x,z.y+36),.2),Va(x(z.x,z.y+26),x(8),10,y,new w(1,1,1),0,0,new w(0,0,0,0),!0),Q(h,"An ancient master of death\nand decay, with the power\nto reanimate the dead to do\nyour bidding.",x(z.x,z.y+18),.2),Q(h,"Despite your warnings the\nlocal peasantry seek to\ndethrone you.",x(z.x,z.y+10),.2),Q(h,"Use the dark arts at your\ndisposal to send them\nto an early grave!",x(z.x,z.y+4),.2),P(x(z.x,z.y-16),x(40,26),new w(0,0,1),0,!0),Q(h,"Nether Bolt:\nThrow a flaming orb\n of dark energy",x(z.x,z.y-4),.2),Q(h,"Raise Dead:\nBring a resting\ncorpse back to life",x(z.x,z.y-10),.2),Q(h,"Corpse Bomb:\nTurn a shambling minion\ninto a bomb",x(z.x,z.y-16),.2),Q(h,"Drain Soul:\nAbsorb an enemies\nlife-force for mana",x(z.x,z.y-22),.2),Q(h,"Click to Begin",x(z.x,z.y-32),.2)):(P(z,V,new w(0,.1,.1),0,!1),P(x(22,7),x(V.x,15),new w(.4,.4,.4),0,!1),P(x(22,7),x(V.x-3,12),2,new w(1,1,1),!1),i=.14*X.l,Q(h,`Health (${X.l})`,x(10,12),.18),Za(x(2,9),x(18,9),2,new w(.5,.5,.5)),0<X.l&&Za(x(3,9),x(3+i,9),1,new w(1,0,0)),i=Math.floor(.14*X.j),Q(h,`Mana (${Math.floor(X.j)})`,x(10,6),.18),Za(x(2,3),x(18,3),2,new w(.5,.5,.5)),0<X.j&&Za(x(3,3),x(3+i,3),1,new w(0,0,1)))}C.sort((t,e)=>t.A-e.A);for(e of C)e.v||e.H();"Game"===Xb&&(t=new bb,0===X.l&&Vb<=0&&(P(x(z.x,z.y+10),x(35,25),new w(0,0,0),0,!0),Q(t,"YOUR REIGN\nHAS ENDED\n\nClick to\nretry",x(z.x,z.y+18),.4)));Db(),Mb(),ba&&(O.textAlign="right",O.textBaseline="top",O.font="1em monospace",O.fillStyle="#000",e="LittleJS v1.3.8 / "+Ia+" / "+C.length+" / "+Ha.toFixed(1)+" GL",O.fillText(e,E.width-3,3),O.fillStyle="#fff",O.fillText(e,E.width-2,2),Ia=0),requestAnimationFrame(n)};M.src=e}(jc,"tiles.png");</script> 
