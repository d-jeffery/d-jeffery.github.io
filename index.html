<style> * {cursor: pointer;}</style><body><script>
let aa=0;const ba=Math.PI,e=t=>t<0?-t:t,da=(t,e)=>t<e?t:e,ea=(t,e)=>e<t?t:e,g=(t,e=0,i=1)=>t<e?e:i<t?i:t,fa=(t,e=0,i=1)=>i-e?g((t-e)/(i-e)):0,ha=(t,e=0,i=1)=>e+g(t)*(i-e),ia=(t,i,s,a)=>2*e(t.x-s.x)<i.x+a.x&2*e(t.y-s.y)<i.y+a.y,l=(t=1,e=0)=>e+(t-e)*Math.random(),ka=(t=1)=>0<t?ja(t*l(0/t,1)**.5):new p,ja=(t=1)=>la(l(2*ba),t),ma=(t=new u,e=new u(0,0,0,1),i)=>i?t.$(e,l()):new u(l(t.r,e.r),l(t.m,e.m),l(t.b,e.b),l(t.a,e.a)),w=(t=0,e)=>null==t.x?new p(t,null==e?t:e):new p(t.x,t.y);function la(t=0,e=1){var i=new p;return i.x=e*Math.sin(t),i.y=e*Math.cos(t),i}function pa(t,e){return(t.x-e.x)**2+(t.y-e.y)**2}function qa(t){var e=t.length();return 1<e?t.scale(1/e):t}function ra(t,e){return 0<=t.x&&0<=t.y&&t.x<e.x&&t.y<e.y}class p{constructor(t=0,e=0){this.x=t,this.y=e}R(){return new p(this.x,this.y)}add(t){return new p(this.x+t.x,this.y+t.y)}o(t){return new p(this.x-t.x,this.y-t.y)}multiply(t){return new p(this.x*t.x,this.y*t.y)}ea(t){return new p(this.x/t.x,this.y/t.y)}scale(t){return new p(this.x*t,this.y*t)}length(){return(this.x**2+this.y**2)**.5}normalize(t=1){var e=this.length();return e?this.scale(t/e):new p(0,t)}angle(){return Math.atan2(this.x,this.y)}rotate(t){var e=Math.cos(t);return t=Math.sin(t),new p(this.x*e-this.y*t,this.x*t+this.y*e)}direction(){return e(this.x)>e(this.y)?this.x<0?3:1:this.y<0?2:0}floor(){return new p(Math.floor(this.x),Math.floor(this.y))}$(t,e){return this.add(t.o(this).scale(g(e)))}toString(t=3){return`(${(this.x<0?"":" ")+this.x.toFixed(t)},${(this.y<0?"":" ")+this.y.toFixed(t)} )`}}function sa(t){return(255*t.r|0)+(255*t.m<<8)+(255*t.b<<16)+(255*t.a<<24)}class u{constructor(t=1,e=1,i=1,s=1){this.r=t,this.m=e,this.b=i,this.a=s}R(){return new u(this.r,this.m,this.b,this.a)}add(t){return new u(this.r+t.r,this.m+t.m,this.b+t.b,this.a+t.a)}o(t){return new u(this.r-t.r,this.m-t.m,this.b-t.b,this.a-t.a)}multiply(t){return new u(this.r*t.r,this.m*t.m,this.b*t.b,this.a*t.a)}ea(t){return new u(this.r/t.r,this.m/t.m,this.b/t.b,this.a/t.a)}scale(t,e=t){return new u(this.r*t,this.m*t,this.b*t,this.a*e)}$(t,e){return this.add(t.o(this).scale(g(e)))}toString(){return`rgb(${255*this.r|0},${255*this.m|0},${255*this.b|0},${this.a})`}}let ua=w(1920,1200),va=w(),x=w(16),wa=w(1),y=w(),z=ea(x.x,x.y);const xa=1/60;let A=[],Aa=[],Ba=0,Ca=0,Da=0,Ea=0,C=0,Fa,Ga,Ha,Ia;function Ja(){Ka=w(D.width,D.height),E.imageSmoothingEnabled=!1;var t=D.width,e=D.height,i=y.x,s=y.y,a=z;F.viewport(0,0,G.width=t,G.height=e),F.clear(16384),F.bindTexture(3553,La),F.useProgram(Ma),Na=void 0,t=2*a/t,e=2*a/e,F.uniformMatrix4fv(F.getUniformLocation(Ma,"m"),0,new Float32Array([t,0,0,0,0,e,0,0,1,1,-1,1,-1-t*i,-1-e*s,0,0]))}function Oa(){Aa=A.filter(t=>t.ca);const i=t=>{if(!t.v){t.update();for(const e of t.children)i(e)}};for(const t of A)t.parent||i(t);A=A.filter(t=>!t.v),Ca=++Ba/60}function H(t){if(!t.v){t.v=1,t.parent&&t.parent.removeChild(t);for(const e of t.children)H(e,e.parent=0)}}function Pa(t,e){t.i&&(t.h=t.h.add(e))}function Qa(t,e,i=w()){e.parent||t.children.includes(e),t.children.push(e),e.parent=t,e.xa=i.R(),e.wa=0}function Ta(t,e=0){t.ca=1,t.ja=e,t.I=1}class J{constructor(t=w(),e=wa,i=-1,s=x,a=0,h,n=0){this.g=t.R(),this.size=e,this.ta,this.K=i,this.s=s,this.angle=a,this.color=h,this.na,this.i=1,this.M=this.B=.99,this.u=0,this.S=.8,this.F=1,this.A=n,this.h=new p,this.W=0,this.ma=Ca,this.children=[],this.I=1,A.push(this)}update(){var t=this.parent;if(t)this.g=this.xa.multiply(w(t.C?-1:1,1)).rotate(-t.angle).add(t.g),this.angle=(t.C?-1:1)*this.wa+t.angle;else if(this.h.x=g(this.h.x,-1,1),this.h.y=g(this.h.y,-1,1),t=this.g.R(),this.g.x+=this.h.x*=this.B,this.g.y+=this.h.y=this.B*this.h.y+0*this.F,this.angle+=this.W*=this.M,this.i){var i,s,a,h,n,r,o,c=this.h.y<0;if(this.G&&(i=this.G.h?this.G.h.x:0,this.h.x=i+(this.h.x-i)*this.S,this.G=0),this.ca)for(var l of Aa)!this.ja&!l.ja||l.v||l.parent||l==this||!ia(this.g,this.size,l.g,l.size)||!this.D(l)|!l.D(this)||(ia(t,this.size,l.g,l.size)?(i=(s=(i=t.o(l.g)).length())<.01?ja(.001):i.scale(.001/s),this.h=this.h.add(i),l.i&&(l.h=l.h.o(i))):(i=this.size.add(l.size),s=2*(t.y-l.g.y)>i.y+0,a=2*e(t.y-l.g.y)<i.y,h=2*e(t.x-l.g.x)<i.x,!s&&!h&&a||(this.g.y=l.g.y+(i.y/2+.001)*(t.y-l.g.y<0?-1:1),l.G&&c||!l.i?(c&&(this.G=l),this.h.y*=-this.u):l.i&&(n=(this.i*this.h.y+l.i*l.h.y)/(this.i+l.i),r=l.h.y*(l.i-this.i)/(this.i+l.i)+2*this.h.y*this.i/(this.i+l.i),o=ea(this.u,l.u),this.h.y=ha(o,n,this.h.y*(this.i-l.i)/(this.i+l.i)+2*l.h.y*l.i/(this.i+l.i)),l.h.y=ha(o,n,r))),s||!a&&h||(this.g.x=l.g.x+(i.x/2+.001)*(t.x-l.g.x<0?-1:1),l.i?(i=(this.i*this.h.x+l.i*l.h.x)/(this.i+l.i),s=l.h.x*(l.i-this.i)/(this.i+l.i)+2*this.h.x*this.i/(this.i+l.i),a=ea(this.u,l.u),this.h.x=ha(a,i,this.h.x*(this.i-l.i)/(this.i+l.i)+2*l.h.x*l.i/(this.i+l.i)),l.h.x=ha(a,i,s)):this.h.x*=-this.u)));this.I&&Ua(this.g,this.size,this)&&!Ua(t,this.size,this)&&(l=Ua(new p(this.g.x,t.y),this.size,this),!Ua(new p(t.x,this.g.y),this.size,this)&&l||(this.G=c,this.h.y*=-this.u,(c=(t.y-this.size.y/2|0)-(t.y-this.size.y/2))<0&&c>this.B*this.h.y+0*this.F&&(this.h.y=this.B?(c-0*this.F)/this.B:0),this.g.y=t.y),l&&(this.g.x=t.x,this.h.x*=-this.u))}}H(){Va(this.g,this.ta||this.size,this.K,this.s,this.color,this.angle,this.C,this.na)}D(){return 1}removeChild(t){t.parent==this&&this.children.includes(t),this.children.splice(this.children.indexOf(t),1),t.parent=0}toString(){}}const L=new Image;let D,E,M,N,Ka=w();const Wa=t=>t.o(y).multiply(w(z,-z)).add(Ka.scale(.5)).o(w(.5));function Va(t,e=w(1),h=-1,n=x,r=new u,i=0,s,a=new u(0,0,0,0),o=1){var c,l,b;aa&&++Ia,o?h<0||!L.width?Xa(t.x,t.y,e.x,e.y,i,0,0,0,0,0,sa(r)):(b=Fa.x/n.x|0,o=n.x/Fa.x,c=n.y/Fa.y,l=h%b*o,b=(h/b|0)*c,Xa(t.x,t.y,s?-e.x:e.x,e.y,i,l+Ga.x,b+Ga.y,l-Ga.x+o,b-Ga.y+c,sa(r),sa(a))):Ya(t,e,i,s,t=>{var e,i,s,a;h<0?(t.fillStyle=r,t.fillRect(-.5,-.5,1,1)):(i=Fa.x/n.x|0,e=h%i*n.x+.3,i=(h/i|0)*n.y+.3,s=n.x-.6,a=n.y-.6,t.globalAlpha=r.a,t.drawImage(L,e,i,s,a,-.5,-.5,1,1))})}function O(t,e,i,s,a){Va(t,e,-1,x,i,s,0,0,a)}function Za(t,e,i=.1,s){e=w((e.x-t.x)/2,(e.y-t.y)/2),i=w(i,2*e.length()),O(t.add(e),i,s,e.angle(),0)}function Ya(t,e,i,s,a){var h=E;t=Wa(t),e=e.scale(z),h.save(),h.translate(t.x+.5|0,t.y-.5|0),h.rotate(i),h.scale(s?-e.x:e.x,e.y),a(h),h.restore()}let $a;function ab(r,t,o,c=4){const l=r.context,u=(l.save(),l.imageSmoothingEnabled=!1,r.s),b=u.add(r.za).scale(c),y=r.image.width/r.s.x|0;t.split("\n").forEach((e,i)=>{var s=e.length*u.x*c/2|0;for(let t=e.length;t--;){((a=e[t].charCodeAt())<32||127<a)&&(a=127);var a=(h=r.Ga+a-32)%y,h=h/y|0,n=o.add(w(t,i).multiply(b));l.drawImage(r.image,a*u.x,h*u.y,u.x,u.y,n.x-s,n.y,u.x*c,u.y*c)}}),l.restore()}function P(t,e,i,s=1){ab(t,e,Wa(i).floor(),s*z|0)}class bb{constructor(t,e=w(8),i=w(0,1),s=0,a=N){t||$a||(($a=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAAYAQAAAAA9+x6JAAAAAnRSTlMAAHaTzTgAAAGiSURBVHjaZZABhxxBEIUf6ECLBdFY+Q0PMNgf0yCgsSAGZcT9sgIPtBWwIA5wgAPEoHUyJeeSlW+gjK+fegWwtROWpVQEyWh2npdpBmTUFVhb29RINgLIukoXr5LIAvYQ5ve+1FqWEMqNKTX3FAJHyQDRZvmKWubAACcv5z5Gtg2oyCWE+Yk/8JZQX1jTTCpKAFGIgza+dJCNBF2UskRlsgwitHbSV0QLgt9sTPtsRlvJjEr8C/FARWA2bJ/TtJ7lko34dNDn6usJUMzuErP89UUBJbWeozrwLLncXczd508deAjLWipLO4Q5XGPcJvPu92cNDaN0P5G1FL0nSOzddZOrJ6rNhbXGmeDvO3TF7DeJWl4bvaYQTNHCTeuqKZmbjHaSOFes+IX/+IhHrnAkXOAsfn24EM68XieIECoccD4KZLk/odiwzeo2rovYdhvb2HYFgyznJyDpYJdYOmfXgVdJTaUi4xA2uWYNYec9BLeqdl9EsoTw582mSFDX2DxVLbNt9U3YYoeatBad1c2Tj8t2akrjaIGJNywKB/7h75/gN3vCMSaadIUTAAAAAElFTkSuQmCC"),this.image=t||$a,this.s=e,this.za=i,this.Ga=s,this.context=a}}const cb=(t,e=0)=>Q[e]&&1&Q[e][t]?1:0,db=(t=0)=>Q[t]&&2&Q[t][0]?1:0;let eb=w(),fb=w(),jb=0;const kb=(t,e=0)=>cb(t,e+1);let Q=[[]];function lb(){for(const t of Q)for(const e in t)t[e]&=1}onkeydown=t=>{t.repeat||(Q[jb=0][mb(t.keyCode)]=3)},onkeyup=t=>{Q[0][mb(t.keyCode)]=4};const mb=t=>87==t?38:83==t?40:65==t?37:68==t?39:t,nb=(onmousedown=t=>{Q[jb=0][t.button]=3,onmousemove(t),t.button&&t.preventDefault()},onmouseup=t=>Q[0][t.button]=2&Q[0][t.button]|4,onmousemove=t=>{var e;return t=D?(e=D.getBoundingClientRect(),w(D.width,D.height).multiply(w(fa(t.x,e.left,e.right),fa(t.y,e.top,e.bottom)))):w(),fb=t},onwheel=t=>t.ctrlKey||(t.deltaY<0?-1:1),oncontextmenu=()=>!1,[]);function ob(){if(navigator.getGamepads&&document.hasFocus()){var e=navigator.getGamepads();for(let t=e.length;t--;){var i=e[t];const h=Q[t+1]||(Q[t+1]=[]),n=nb[t]||(nb[t]=[]);if(i){for(var s=t=>.3<t?fa(t,.3,.8):t<-.3?-fa(-t,.3,.8):0,a=0;a<i.axes.length-1;a+=2)n[a>>1]=qa(w(s(i.axes[a]),s(-i.axes[a+1])));for(s=i.buttons.length;s--;)a=i.buttons[s],h[s]=a.pressed?1+2*!kb(s,t):4*kb(s,t),jb|=!t&&a.pressed;(i=w(kb(15,t)-kb(14,t),kb(12,t)-kb(13,t))).x**2+i.y**2&&(n[0]=qa(i))}}}}if(void 0!==window.ontouchstart){let i,s;ontouchstart=ontouchmove=ontouchend=t=>{t.button=0;var e=t.touches.length;return e?(s||pb([qb(...[0,s=1])]),t.x=t.touches[0].clientX,t.y=t.touches[0].clientY,(i?onmousemove:onmousedown)(t)):i&&onmouseup(t),i=e,!t.cancelable}}let rb;function pb(t){var i,e;(rb=rb||new(window.AudioContext||webkitAudioContext)).resume(),"running"==rb.state&&(i=rb.createBuffer(t.length,t[0].length,44100),e=rb.createBufferSource(),t.forEach((t,e)=>i.getChannelData(e).set(t)),e.buffer=i,e.playbackRate.value=1,e.loop=0,(t=rb.createGain()).gain.value=.5,t.connect(rb.destination),(window.StereoPannerNode?e.connect(new StereoPannerNode(rb,{pan:g(0,-1,1)})):e).connect(t),e.start())}function qb(t=1,i=.05,s=220,a=0,h=0,n=.1,r=0,o=1,c=0,u=0,b=0,y=0,d=0,w=0,g=0,x=0,f=0,p=1,m=0,v=0){let A=2*ba,z=c*=500*A/44100/44100,S=[],F=(i=s*=(1+i*l(-1,1))*A/44100,0),D=0,C=0,T=1,E=0,M=0,U=0,P,k;for(u*=500*A/44100**3,g*=A/44100,b*=A/44100,y*=44100,d=44100*d|0,k=(a=44100*a+9)+(m*=44100)+(h*=44100)+(n*=44100)+(f*=44100)|0;C<k;S[C++]=U)++M%(100*x|0)||(U=r?1<r?2<r?3<r?Math.sin((F%A)**3):ea(da(Math.tan(F),1),-1):1-(2*F/A%2+2)%2:1-4*e(Math.round(F/A)-F/A):Math.sin(F),U=(d?1-v+v*Math.sin(A*C/d):1)*(U<0?-1:1)*(U<0?-U:U)**o*t*.5*(C<a?C/a:C<a+m?1-(C-a)/m*(1-p):C<a+m+h?p:C<k-f?(k-C-f)/n*p:0),U=f?U/2+(f>C?0:(C<k-f?1:(k-C)/f)*S[C-f|0]/2):U),P=(s+=c+=u)*Math.cos(g*D++),F+=P-P*w*(1-1e9*(Math.sin(C)+1)%2),T&&++T>y&&(s+=b,i+=b,T=0),!d||++E%d||(s=i,c=z,T=T||1);return S}let sb=[],tb=w();function Ua(t,e=w(),i){var s=ea(t.x-e.x/2|0,0),a=ea(t.y-e.y/2|0,0),h=da(t.x+e.x/2,tb.x);for(t=da(t.y+e.y/2,tb.y);a<t;++a)for(e=s;e<h;++e){var n=sb[a*tb.x+e];if(n&&(!i||0<n))return 1}}class ub{constructor(t){var e=new u;this.ba=t,this.C=this.direction=0,this.color=e}clear(){this.ba=this.direction=this.C=0,color=new u}}function vb(t,e){var i=e.floor().add(t.g).add(w(.5));wb(t,i,t=>t.clearRect(-.5,-.5,1,1)),null!=(e=t.getData(e)).ba&&Va(i,w(1),e.ba,t.s,e.color,e.direction*ba/2,e.C)}function wb(t,e,i){var s=w(1);const a=t.context;a.save(),e=e.o(t.g).multiply(t.s),s=s.multiply(t.s),a.translate(e.x,t.canvas.height-e.y),a.rotate(0),a.scale(s.x,s.y),i(a),a.restore()}class xb extends J{constructor(t=tb,i=x,s=w(1)){for(super(w(0,0),t,-1,i,0,void 0,0),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.scale=s,this.ua,this.data=[],t=this.size,t=e(t.x*t.y);t--;)this.data.push(new ub)}setData(t,e,i){ra(t,this.size)&&(this.data[(0|t.y)*this.size.x+t.x|0]=e,i&&vb(this,t))}getData(t){return ra(t,this.size)&&this.data[(0|t.y)*this.size.x+t.x|0]}update(){}H(){var t=Wa(this.g.add(w(0,this.size.y*this.scale.y)));(this.ua?N:E).drawImage(this.canvas,t.x,t.y,z*this.size.x*this.scale.x,z*this.size.y*this.scale.y)}}function yb(t){var e=null!=t.Y.x?new p(l(-.5,.5),l(-.5,.5)).multiply(t.Y).rotate(t.angle):ka(.5*t.Y),e=new zb(t.g.add(e),t.K,t.s,t.angle+l(t.ka,-t.ka));const i=t.Ca;var s=(r=t=>t+t*l(i,-i))(t.Ba),a=r(t.aa),h=r(t.Ea),n=r(t.speed),r=r(t.oa)*(2*(0|l(2))-1);const o=l(t.fa,-t.fa),c=ma(t.ra,t.sa,t.la),u=ma(t.pa,t.qa,t.la);e.P=c,e.O=u.o(c),e.h=la(t.angle+o,n),e.W=r,e.va=s,e.aa=a,e.Fa=h-a,e.Z=t.Z,e.B=t.B,e.M=t.M,e.u=t.u,e.S=t.S,e.F=t.F,e.I=t.I,e.L=t.L,e.A=t.A,e.V=t.V,e.C=l()<.5,e.da=t.Ha,t.Aa&&t.Aa(e)}class Ab extends J{constructor(t,e,i=0,s=0,a=100,h=ba,n=-1,r=x,o=new u,c=new u,l=new u(1,1,1,0),b=new u(1,1,1,0),y=.5,d=.1,w=1,g=.1,f=.05,m=1,v=1,A=0,z=ba,S=.1,F=.2,D,C,T=1,E=C?1e9:0){super(t,new p,n,r,e,void 0,E),this.Y=i,this.ha=s,this.ga=a,this.fa=h,this.ra=o,this.sa=c,this.pa=l,this.qa=b,this.la=T,this.Ba=y,this.aa=d,this.Ea=w,this.speed=g,this.oa=f,this.B=m,this.M=v,this.F=A,this.ka=z,this.Z=S,this.Ca=F,this.I=D,this.L=C,this.J=this.V=0}update(){if(this.parent&&super.update(),!this.ha||Ca-this.ma<=this.ha){if(+this.ga){var t=1/this.ga;for(this.J+=xa;0<this.J;this.J-=t)yb(this)}}else H(this)}H(){}}class zb extends J{constructor(t,e,i,s){super(t,new p,e,i,s)}H(){var t=da((Ca-this.ma)/this.va,1),e=this.aa+t*this.Fa,e=new p(e,e),i=this.Z/2,i=new u(this.P.r+t*this.O.r,this.P.m+t*this.O.m,this.P.b+t*this.O.b,(this.P.a+t*this.O.a)*(t<i?t/i:1-i<t?(1-t)/i:1));if(this.L&&(Na=1),this.V){var s=this.h.length();const a=this.h.scale(1/s);s*=this.V,e.y=ea(e.x,s),this.angle=a.angle(),Va(this.g.add(a.multiply(w(0,-s/2))),e,this.K,this.s,i,this.angle,this.C)}else Va(this.g,e,this.K,this.s,i,this.angle,this.C);this.L&&(Na=void 0),1==t&&(this.color=i,this.size=e,this.da&&this.da(this),this.v=1)}}let Bb=[],Cb;function Db(){var t,e;Bb.length&&(t=Bb[0],e=Da-Cb,Cb?5<e?Bb.shift(Cb=0):t.H():Cb=Da)}let G,F,La,Ma,S,T,Eb,Fb,Na;function Gb(){G=document.createElement("canvas"),F=G.getContext("webgl",{antialias:!1}),G.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",La=Hb(),document.body.appendChild(G),Ma=Ib();var t=new ArrayBuffer(9437184);Jb(t.byteLength),S=new Float32Array(t),T=new Uint32Array(t);let h=Eb=0;(t=(t,e,i,s,a=0)=>{t=F.getAttribLocation(Ma,t),F.enableVertexAttribArray(t),F.vertexAttribPointer(t,s,e,a,24,h),h+=s*i})("p",5126,4,2),t("t",5126,4,2),t("c",5121,1,4,1),t("a",5121,1,4,1)}function Kb(t,e){return e=F.createShader(e),F.shaderSource(e,t),F.compileShader(e),e}function Ib(){var t=F.createProgram();return F.attachShader(t,Kb("precision highp float;uniform mat4 m;attribute vec2 p,t;attribute vec4 c,a;varying vec2 v;varying vec4 d,e;void main(){gl_Position=m*vec4(p,1,1);v=t;d=c;e=a;}",35633)),F.attachShader(t,Kb("precision highp float;varying vec2 v;varying vec4 d,e;uniform sampler2D s;void main(){gl_FragColor=texture2D(s,v)*d+e;}",35632)),F.linkProgram(t),t}function Jb(t){var e=F.createBuffer();F.bindBuffer(34962,e),F.bufferData(34962,t,35048)}function Hb(){var t,e=L;if(e&&e.width)return t=F.createTexture(),F.bindTexture(3553,t),F.texImage2D(3553,0,6408,6408,5121,e),F.texParameteri(3553,10241,9728),F.texParameteri(3553,10240,9728),F.texParameteri(3553,10242,33071),F.texParameteri(3553,10243,33071),t}function Lb(){var t;Eb&&(t=Fb?1:771,F.blendFuncSeparate(770,t,1,t),F.enable(3042),F.bufferSubData(34962,0,S.subarray(0,36*Eb)),F.drawArrays(4,0,6*Eb),Eb=0,Fb=Na)}function Mb(t){var e=E;(Eb||t)&&(Lb(),t&&e.drawImage(G,0,0))}function Xa(t,e,i,s,a,h,n,r,o,c=4294967295,l=0){65536!=Eb&&Fb==Na||Lb();var u=Math.cos(a)/2,b=Math.sin(a)/2;a=u*i,u*=s,i*=b,s*=b,b=36*Eb++,S[b++]=t-a-s,S[b++]=e-u+i,S[b++]=h,S[b++]=o,T[b++]=c,T[b++]=l,S[b++]=t+a+s,S[b++]=e+u-i,S[b++]=r,S[b++]=n,T[b++]=c,T[b++]=l,S[b++]=t-a+s,S[b++]=e+u+i,S[b++]=h,S[b++]=n,T[b++]=c,T[b++]=l,S[b++]=t-a-s,S[b++]=e-u+i,S[b++]=h,S[b++]=o,T[b++]=c,T[b++]=l,S[b++]=t+a-s,S[b++]=e-u-i,S[b++]=r,S[b++]=o,T[b++]=c,T[b++]=l,S[b++]=t+a+s,S[b++]=e+u-i,S[b++]=r,S[b++]=n,T[b++]=c,T[+b]=l}aa=0;let U,Nb,V,W,Ob,Pb,Qb,Rb,Sb,X,Tb,Ub,Vb,Wb,Xb="Intro";function Yb(){W=new Zb,V=new $b,Ub=15,Vb=1,Wb=0,Qb=new cc,Rb=new dc,Ob=new ec,Pb=new fc,Tb=[],X=[],Sb=[];for(var e=-15;e<17;e+=6)X.push(new gc(w(y.x+e,y.y+34)));for(e=-18;e<20;e+=6)for(let t=-18;t<20;t+=6)0!==e&&Tb.push(new hc(w(y.x+e,y.y+t+8)))}function ic(){Tb.forEach(t=>H(t)),X.forEach(t=>H(t)),Sb.forEach(t=>H(t))}function jc(){va=w(720,1280),U=w(44,80),y=U.scale(.5),z=16,V=new $b}function kc(n){[...X,...Sb].filter(t=>{var i=n.g,s=t.g,a=t.size,h=e(i.x-s.x),i=e(i.y-s.y);h>a.x/2+8||i>a.y/2+8||!(h<=a.x/2||i<=a.y/2||(h-s.x/2^i-s.y/2+2^2)<=10)||(t.l-=50,s=t.g.o(n.g).normalize().scale(20),Pa(t,s.scale(1/t.i)))}),lc(new u(1,0,0),new u(0,0,0),n.g,n.size.scale(2)),lc(new u(0,1,0),new u(0,0,0),n.g,n.size.scale(2)),Wb=.1}function mc(t){return t===V&&cb(0)||t===V&&kb(0)}function lc(t,e,i,s){new Ab(i,0,s,.1,200,ba,0,w(16),t,e,t.scale(1,0),e.scale(1,0),.2,1,1,.1,.05,.99,.95,.4,ba,.1,1,0,1)}class Zb extends J{constructor(){super(w(U.x/2,22),w(4),10),Ta(this,1),this.A=5,this.j=this.l=100,this.N=this.T=0,Qa(this,new J(this.g,w(5),13,x,0,new u,15),w(0,-3))}update(){var t,e;this.l<=0?(lc(new u(1,0,0),new u(0,0,0),this.g,this.size),lc(new u(.4,.4,.4),new u(0,0,0),this.g,this.size)):(this.N+=xa,Qb.selected&&mc(V)&&V.g.y>Ub&&10<=this.j&&.5<this.N&&(e=V.g.o(this.g),Pa(t=new nc(this.g,e.angle()),(e=e.normalize()).scale(1/t.i)),this.j-=10,this.N=0),2<this.T&&this.j<100&&(this.j+=5,this.T=0),100<this.j&&(this.j=100),this.T+=xa)}}class hc extends J{constructor(t){super(t,w(3),6),Ta(this),this.ia=!0}D(t){var e;if(this.ia)return Ob.selected&&0<=W.j-10&&mc(t)&&(Sb.push(new oc(this.g)),this.ia=!1,this.K=7,W.j-=10,e=(t=new u(.7,.44,.44)).$(new u,.5),lc(t,e,this.g,this.size)),!1}}function pc(t){var i;e(t.g.x-t.target.x)<.1&&e(t.g.y-t.target.y)<.1?(t.target=void 0,t.h=w(0,0)):(i=t.target.o(t.g).scale(.01),Pa(t,i.scale(1/t.i)),t.h.x=g(t.h.x,-t.U,t.U),t.h.y=g(t.h.y,-t.U,t.U),t.g.x=g(t.g.x,t.size.x/2,U.x-t.size.x/2),t.g.y=g(t.g.y,t.size.y/2+14,U.y-t.size.y/2),t.target.x=g(t.target.x,t.size.x/2,U.x-t.size.x/2),t.target.y=g(t.target.y,t.size.y/2+14,U.y-t.size.y/2))}function qc(t){var e;void 0===t.target&&(e=ka(1),t.target=w(t.g.x+e.x,t.g.y+e.y)),pc(t)}class rc extends J{constructor(t,e){super(t,w(3),e),Ta(this,1),this.S=.9,this.i=10,this.u=.5,this.U=l(.08,.12),this.target=void 0,this.l=100,this.A=10}update(){super.update(),this.l<0&&(lc(new u(1,0,0),new u(0,0,0),this.g,this.size),H(this))}attack(t,e){t.l-=e}}class oc extends rc{constructor(t){super(t,Math.round(l(3,5)))}update(){if(super.update(),X.length){let e=void 0;X.forEach(t=>{void 0===e&&(e=t.g),pa(this.g,t.g)**.5<pa(this.g,e)**.5&&(e=t.g)}),this.target=e,pc(this)}else qc(this)}D(t){return t instanceof sc?(this.attack(t,1),!0):t instanceof rc||t instanceof Zb?!(this.target=void 0):(mc(t)&&Pb.selected&&0<W.j-20&&(W.j-=20,H(this),kc(this)),!1)}}class sc extends rc{constructor(t){super(t,Math.round(l(8,9))),this.X=!1}update(){if(super.update(),this.X)return this.l-=+xa,W.j+=5*xa,!1}D(t){return t instanceof sc?!(this.target=void 0):t instanceof oc||t instanceof Zb?(this.attack(t,1),!0):(mc(t)&&Rb.selected&&(X.forEach(t=>{t.X=!1,t.color=new u(1,1,1)}),this.X=!0,this.color=new u(0,1,1)),!1)}}class gc extends sc{update(){if(super.update(),Sb.length>X.length)this.target=X.reduce((t,e)=>t.add(e.g),w(0,0)).scale(1/X.length);else if(0<Sb.length){let e=void 0;Sb.forEach(t=>{void 0===e&&(e=t.g),pa(this.g,t.g)**.5<pa(this.g,e)**.5&&(e=t.g)}),this.target=e}else this.target=W.g;(this.target?pc:qc)(this)}}class nc extends J{constructor(t,e){super(t,w(2),11,w(16),e),Ta(this,1),this.A=50}D(t){return t instanceof rc&&(H(this),t.target=void 0,t.l-=50,Pa(t,this.h),lc(new u(0,1,0),new u(0,0,0),this.g,this.size),!0)}}class $b extends J{constructor(){super(w(U.x/2,U.y/2),w(1),-1,w(16),0,new u(0,0,0,0)),Ta(this,1),this.A=20}update(){jb?(this.g.x+=(nb[0]&&nb[0][0]||w()).x,this.g.y+=(nb[0]&&nb[0][0]||w()).y):(this.g.x=eb.x,this.g.y=eb.y),this.g.x=g(this.g.x,this.size.x/2,U.x-this.size.x/2),this.g.y=g(this.g.y,this.size.y/2,U.y-this.size.y/2)}}function tc(t){A.forEach(t=>{t instanceof uc&&(t.selected=!1)}),t.selected=!0}class uc extends J{constructor(t,e,i){var s=new u(1,0,0),a=new u(.5,0,0);super(t,w(11,5)),this.text=e,this.ya=i,this.color=s,this.backgroundColor=a,this.selected=!1,this.font=new bb(void 0,w(8),w(0,1),0,E),Ta(this)}H(){this.selected?(this.color=new u(1,0,1),this.backgroundColor=new u(.5,0,.5)):(this.color=new u(1,0,0),this.backgroundColor=new u(.5,0,0)),O(w(this.g.x,this.g.y),w(11,5),this.backgroundColor,0,!1),O(w(this.g.x,this.g.y),w(10,4),this.color,0,!1),P(this.font,this.text,w(this.g.x,this.g.y+1.5),.2),P(this.font,this.ya.toString(),w(this.g.x-5,this.g.y-1),.2)}D(){return ia(V.g,V.size,this.g,this.size)&&(cb(0)||kb(0))&&tc(this),!1}}class cc extends uc{constructor(){super(w(U.x-19.5,10),"Nether\nBolt",1),this.selected=!0}}class dc extends uc{constructor(){super(w(U.x-7.5,10),"Drain\nSoul",2)}}class ec extends uc{constructor(){super(w(U.x-19.5,4),"Raise\nDead",3)}}class fc extends uc{constructor(){super(w(U.x-7.5,4),"Corpse\nBomb",4)}}!function(t,i){L.onerror=L.onload=()=>{Ga=w(.3).ea(Fa=w(L.width,L.height)),document.body.style="margin:0;overflow:hidden;background:#000;touch-action:none;user-select:none;-webkit-user-select:none;-moz-user-select:none",document.body.appendChild(D=document.createElement("canvas")),E=D.getContext("2d"),D.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",Gb(),document.body.appendChild(M=document.createElement("canvas")),N=M.getContext("2d"),M.style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)",t(),r()};const r=(t=0)=>{var i,s=t-Ea;for(Ea=t,aa&&(Ha=ha(.05,Ha||0,1e3/(s||1))),Da+=s/1e3,C=da(C+ +s,50),va.x?(M.width=D.width=va.x,M.height=D.height=va.y,t=innerWidth/innerHeight,s=D.width/D.height,D.style.width=M.style.width=t<s?"100%":"",D.style.height=M.style.height=t<s?"":"100%",G&&(G.style.width=D.style.width,G.style.height=D.style.height)):(M.width=D.width=da(innerWidth,ua.x),M.height=D.height=da(innerHeight,ua.y)),Ka=w(D.width,D.height),t=0,C<0&&-9<C&&(t=C,C=0);0<=C;C-=1e3/60){document.hasFocus()||(Q=[[]]),eb=fb.add(w(.5)).o(Ka.scale(.5)).multiply(w(1/z,-1/z)).add(y),ob();{a=void 0;h=void 0;if("Intro"===Xb){if(db()||db(1))Xb="Help"}else if("Help"===Xb){if(db()||db(1)){Xb="Game";var a=U;tb=a;sb=[];for(var h=sb.length=e(tb.x*tb.y);h--;)sb[h]=0;Nb=new xb(a,w(16),w(4));Nb.A=10;for(h=w(5,Ub);h.y<a.y;h.y++)Nb.setData(h,new ub(12));a=Nb;a.canvas.width=a.size.x*a.s.x;a.canvas.height=a.size.y*a.s.y;a.Da=[D,E,y,z];D=a.canvas;E=a.context;y=a.size.scale(.5);z=a.s.x;Ja();for(h=a.size.x;h--;)for(let t=a.size.y;t--;)vb(a,w(h,t));Mb(1);[D,E,y,z]=a.Da;Yb()}}else"Game"===Xb&&(cb(49)?tc(Qb):cb(50)?tc(Rb):cb(51)?tc(Ob):cb(52)&&tc(Pb))}Oa(),"Game"===Xb&&(Tb=Tb.filter(t=>!t.v),X=X.filter(t=>!t.v),Sb=Sb.filter(t=>!t.v),0<Wb?(y.x+=l(-1,1),Wb-=xa):y=U.scale(.5),W.l<=0&&(Vb-=xa,W.l=0,H(W),H(V),Vb<=0&&(cb(0)||kb(0))&&(ic(),jc(),Yb()))),lb()}C+=t,Ja();{var n=new bb;"Intro"===Xb?(O(y,U,new u(0,0,0),0,!0),P(n,"Necrotic\nCommander",w(y.x,y.y+24),.6),Va(w(y.x,y.y+2+Math.sin(Da)),w(12),1,x,new u(1,1,1),0,0,new u(0,0,0,0),!0),P(n,"Click to Start",w(y.x,y.y-10),.4)):"Help"===Xb?(O(y,U,new u(0,0,0),0,!0),P(n,"You are the\nNecrotic Commander",w(y.x,y.y+36),.2),Va(w(y.x,y.y+26),w(8),10,x,new u(1,1,1),0,0,new u(0,0,0,0),!0),P(n,"An ancient master of death\nand decay, with the power\nto reanimate the dead to do\nyour bidding.",w(y.x,y.y+18),.2),P(n,"Despite your warnings the\nlocal peasantry seek to\ndethrone you.",w(y.x,y.y+10),.2),P(n,"Use the dark arts at your\ndisposal to send them\nto an early grave!",w(y.x,y.y+4),.2),O(w(y.x,y.y-16),w(40,26),new u(0,0,1),0,!0),P(n,"Nether Bolt:\nThrow a flaming orb\n of dark energy",w(y.x,y.y-4),.2),P(n,"Raise Dead:\nBring a resting\ncorpse back to life",w(y.x,y.y-10),.2),P(n,"Corpse Bomb:\nTurn a shambling minion\ninto a bomb",w(y.x,y.y-16),.2),P(n,"Drain Soul:\nAbsorb an enemies\nlife-force for mana",w(y.x,y.y-22),.2),P(n,"Click to Begin",w(y.x,y.y-32),.2)):(O(y,U,new u(0,.1,.1),0,!1),O(w(22,7),w(U.x,15),new u(.4,.4,.4),0,!1),O(w(22,7),w(U.x-3,12),2,new u(1,1,1),!1),s=.14*W.l,P(n,`Health (${W.l})`,w(10,12),.18),Za(w(2,9),w(18,9),2,new u(.5,.5,.5)),0<W.l&&Za(w(3,9),w(3+s,9),1,new u(1,0,0)),s=Math.floor(.14*W.j),P(n,`Mana (${Math.floor(W.j)})`,w(10,6),.18),Za(w(2,3),w(18,3),2,new u(.5,.5,.5)),0<W.j&&Za(w(3,3),w(3+s,3),1,new u(0,0,1)))}A.sort((t,e)=>t.A-e.A);for(i of A)i.v||i.H();"Game"===Xb&&(t=new bb,0===W.l&&Vb<=0&&(O(w(y.x,y.y+10),w(35,25),new u(0,0,0),0,!0),P(t,"YOUR REIGN\nHAS ENDED\n\nClick to\nretry",w(y.x,y.y+18),.4)));Db(),Mb(),aa&&(N.textAlign="right",N.textBaseline="top",N.font="1em monospace",N.fillStyle="#000",i="LittleJS v1.3.8 / "+Ia+" / "+A.length+" / "+Ha.toFixed(1)+" GL",N.fillText(i,D.width-3,3),N.fillStyle="#fff",N.fillText(i,D.width-2,2),Ia=0),requestAnimationFrame(r)};L.src=i}(jc,"tiles.png");</script> 
